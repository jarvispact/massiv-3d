!function(t,n){if("object"==typeof exports&&"object"==typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var r=n();for(var u in r)("object"==typeof exports?exports:t)[u]=r[u]}}(window,function(){return function(t){var n={};function r(u){if(n[u])return n[u].exports;var a=n[u]={i:u,l:!1,exports:{}};return t[u].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=t,r.c=n,r.d=function(t,n,u){r.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:u})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,n){if(1&n&&(t=r(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var u=Object.create(null);if(r.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var a in t)r.d(u,a,function(n){return t[n]}.bind(null,a));return u},r.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(n,"a",n),n},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.p="",r(r.s=4)}({4:function(t,n,r){"use strict";r.r(n);var u={};r.r(u),r.d(u,"create",function(){return s}),r.d(u,"clone",function(){return h}),r.d(u,"copy",function(){return M}),r.d(u,"fromValues",function(){return d}),r.d(u,"set",function(){return l}),r.d(u,"identity",function(){return v}),r.d(u,"transpose",function(){return b}),r.d(u,"invert",function(){return m}),r.d(u,"adjoint",function(){return p}),r.d(u,"determinant",function(){return y}),r.d(u,"multiply",function(){return q}),r.d(u,"translate",function(){return g}),r.d(u,"scale",function(){return x}),r.d(u,"rotate",function(){return w}),r.d(u,"rotateX",function(){return A}),r.d(u,"rotateY",function(){return P}),r.d(u,"rotateZ",function(){return j}),r.d(u,"fromTranslation",function(){return I}),r.d(u,"fromScaling",function(){return O}),r.d(u,"fromRotation",function(){return S}),r.d(u,"fromXRotation",function(){return D}),r.d(u,"fromYRotation",function(){return F}),r.d(u,"fromZRotation",function(){return T}),r.d(u,"fromRotationTranslation",function(){return k}),r.d(u,"fromQuat2",function(){return E}),r.d(u,"getTranslation",function(){return R}),r.d(u,"getScaling",function(){return V}),r.d(u,"getRotation",function(){return _}),r.d(u,"fromRotationTranslationScale",function(){return L}),r.d(u,"fromRotationTranslationScaleOrigin",function(){return Q}),r.d(u,"fromQuat",function(){return z}),r.d(u,"frustum",function(){return C}),r.d(u,"perspective",function(){return X}),r.d(u,"perspectiveFromFieldOfView",function(){return Y}),r.d(u,"ortho",function(){return Z}),r.d(u,"lookAt",function(){return N}),r.d(u,"targetTo",function(){return U}),r.d(u,"str",function(){return W}),r.d(u,"frob",function(){return B}),r.d(u,"add",function(){return G}),r.d(u,"subtract",function(){return H}),r.d(u,"multiplyScalar",function(){return J}),r.d(u,"multiplyScalarAndAdd",function(){return K}),r.d(u,"exactEquals",function(){return $}),r.d(u,"equals",function(){return tt}),r.d(u,"mul",function(){return nt}),r.d(u,"sub",function(){return rt});var a={};r.r(a),r.d(a,"create",function(){return ut}),r.d(a,"clone",function(){return at}),r.d(a,"length",function(){return et}),r.d(a,"fromValues",function(){return ot}),r.d(a,"copy",function(){return it}),r.d(a,"set",function(){return ct}),r.d(a,"add",function(){return ft}),r.d(a,"subtract",function(){return st}),r.d(a,"multiply",function(){return ht}),r.d(a,"divide",function(){return Mt}),r.d(a,"ceil",function(){return dt}),r.d(a,"floor",function(){return lt}),r.d(a,"min",function(){return vt}),r.d(a,"max",function(){return bt}),r.d(a,"round",function(){return mt}),r.d(a,"scale",function(){return pt}),r.d(a,"scaleAndAdd",function(){return yt}),r.d(a,"distance",function(){return qt}),r.d(a,"squaredDistance",function(){return gt}),r.d(a,"squaredLength",function(){return xt}),r.d(a,"negate",function(){return wt}),r.d(a,"inverse",function(){return At}),r.d(a,"normalize",function(){return Pt}),r.d(a,"dot",function(){return jt}),r.d(a,"cross",function(){return It}),r.d(a,"lerp",function(){return Ot}),r.d(a,"hermite",function(){return St}),r.d(a,"bezier",function(){return Dt}),r.d(a,"random",function(){return Ft}),r.d(a,"transformMat4",function(){return Tt}),r.d(a,"transformMat3",function(){return kt}),r.d(a,"transformQuat",function(){return Et}),r.d(a,"rotateX",function(){return Rt}),r.d(a,"rotateY",function(){return Vt}),r.d(a,"rotateZ",function(){return _t}),r.d(a,"angle",function(){return Lt}),r.d(a,"zero",function(){return Qt}),r.d(a,"str",function(){return zt}),r.d(a,"exactEquals",function(){return Ct}),r.d(a,"equals",function(){return Xt}),r.d(a,"sub",function(){return Zt}),r.d(a,"mul",function(){return Nt}),r.d(a,"div",function(){return Ut}),r.d(a,"dist",function(){return Wt}),r.d(a,"sqrDist",function(){return Bt}),r.d(a,"len",function(){return Gt}),r.d(a,"sqrLen",function(){return Ht}),r.d(a,"forEach",function(){return Jt});var e={};r.r(e),r.d(e,"create",function(){return tn}),r.d(e,"identity",function(){return nn}),r.d(e,"setAxisAngle",function(){return rn}),r.d(e,"getAxisAngle",function(){return un}),r.d(e,"multiply",function(){return an}),r.d(e,"rotateX",function(){return en}),r.d(e,"rotateY",function(){return on}),r.d(e,"rotateZ",function(){return cn}),r.d(e,"calculateW",function(){return fn}),r.d(e,"slerp",function(){return sn}),r.d(e,"random",function(){return hn}),r.d(e,"invert",function(){return Mn}),r.d(e,"conjugate",function(){return dn}),r.d(e,"fromMat3",function(){return ln}),r.d(e,"fromEuler",function(){return vn}),r.d(e,"str",function(){return bn}),r.d(e,"clone",function(){return An}),r.d(e,"fromValues",function(){return Pn}),r.d(e,"copy",function(){return jn}),r.d(e,"set",function(){return In}),r.d(e,"add",function(){return On}),r.d(e,"mul",function(){return Sn}),r.d(e,"scale",function(){return Dn}),r.d(e,"dot",function(){return Fn}),r.d(e,"lerp",function(){return Tn}),r.d(e,"length",function(){return kn}),r.d(e,"len",function(){return En}),r.d(e,"squaredLength",function(){return Rn}),r.d(e,"sqrLen",function(){return Vn}),r.d(e,"normalize",function(){return _n}),r.d(e,"exactEquals",function(){return Ln}),r.d(e,"equals",function(){return Qn}),r.d(e,"rotationTo",function(){return zn}),r.d(e,"sqlerp",function(){return Cn}),r.d(e,"setAxes",function(){return Xn});var o={};r.r(o),r.d(o,"createVec3",function(){return Yn}),r.d(o,"createQuat",function(){return Zn}),r.d(o,"createMat4",function(){return Nn}),r.d(o,"addVec3",function(){return Un}),r.d(o,"quatFromEuler",function(){return Wn}),r.d(o,"multiplyQuat",function(){return Bn}),r.d(o,"mat4LookAt",function(){return Gn}),r.d(o,"mat4Perspective",function(){return Hn}),r.d(o,"mat4Ortho",function(){return Jn}),r.d(o,"copyMat4",function(){return Kn});var i=1e-6,c="undefined"!=typeof Float32Array?Float32Array:Array,f=Math.random;Math.PI;function s(){var t=new c(16);return c!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function h(t){var n=new c(16);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n[9]=t[9],n[10]=t[10],n[11]=t[11],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15],n}function M(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t}function d(t,n,r,u,a,e,o,i,f,s,h,M,d,l,v,b){var m=new c(16);return m[0]=t,m[1]=n,m[2]=r,m[3]=u,m[4]=a,m[5]=e,m[6]=o,m[7]=i,m[8]=f,m[9]=s,m[10]=h,m[11]=M,m[12]=d,m[13]=l,m[14]=v,m[15]=b,m}function l(t,n,r,u,a,e,o,i,c,f,s,h,M,d,l,v,b){return t[0]=n,t[1]=r,t[2]=u,t[3]=a,t[4]=e,t[5]=o,t[6]=i,t[7]=c,t[8]=f,t[9]=s,t[10]=h,t[11]=M,t[12]=d,t[13]=l,t[14]=v,t[15]=b,t}function v(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function b(t,n){if(t===n){var r=n[1],u=n[2],a=n[3],e=n[6],o=n[7],i=n[11];t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=r,t[6]=n[9],t[7]=n[13],t[8]=u,t[9]=e,t[11]=n[14],t[12]=a,t[13]=o,t[14]=i}else t[0]=n[0],t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=n[1],t[5]=n[5],t[6]=n[9],t[7]=n[13],t[8]=n[2],t[9]=n[6],t[10]=n[10],t[11]=n[14],t[12]=n[3],t[13]=n[7],t[14]=n[11],t[15]=n[15];return t}function m(t,n){var r=n[0],u=n[1],a=n[2],e=n[3],o=n[4],i=n[5],c=n[6],f=n[7],s=n[8],h=n[9],M=n[10],d=n[11],l=n[12],v=n[13],b=n[14],m=n[15],p=r*i-u*o,y=r*c-a*o,q=r*f-e*o,g=u*c-a*i,x=u*f-e*i,w=a*f-e*c,A=s*v-h*l,P=s*b-M*l,j=s*m-d*l,I=h*b-M*v,O=h*m-d*v,S=M*m-d*b,D=p*S-y*O+q*I+g*j-x*P+w*A;return D?(D=1/D,t[0]=(i*S-c*O+f*I)*D,t[1]=(a*O-u*S-e*I)*D,t[2]=(v*w-b*x+m*g)*D,t[3]=(M*x-h*w-d*g)*D,t[4]=(c*j-o*S-f*P)*D,t[5]=(r*S-a*j+e*P)*D,t[6]=(b*q-l*w-m*y)*D,t[7]=(s*w-M*q+d*y)*D,t[8]=(o*O-i*j+f*A)*D,t[9]=(u*j-r*O-e*A)*D,t[10]=(l*x-v*q+m*p)*D,t[11]=(h*q-s*x-d*p)*D,t[12]=(i*P-o*I-c*A)*D,t[13]=(r*I-u*P+a*A)*D,t[14]=(v*y-l*g-b*p)*D,t[15]=(s*g-h*y+M*p)*D,t):null}function p(t,n){var r=n[0],u=n[1],a=n[2],e=n[3],o=n[4],i=n[5],c=n[6],f=n[7],s=n[8],h=n[9],M=n[10],d=n[11],l=n[12],v=n[13],b=n[14],m=n[15];return t[0]=i*(M*m-d*b)-h*(c*m-f*b)+v*(c*d-f*M),t[1]=-(u*(M*m-d*b)-h*(a*m-e*b)+v*(a*d-e*M)),t[2]=u*(c*m-f*b)-i*(a*m-e*b)+v*(a*f-e*c),t[3]=-(u*(c*d-f*M)-i*(a*d-e*M)+h*(a*f-e*c)),t[4]=-(o*(M*m-d*b)-s*(c*m-f*b)+l*(c*d-f*M)),t[5]=r*(M*m-d*b)-s*(a*m-e*b)+l*(a*d-e*M),t[6]=-(r*(c*m-f*b)-o*(a*m-e*b)+l*(a*f-e*c)),t[7]=r*(c*d-f*M)-o*(a*d-e*M)+s*(a*f-e*c),t[8]=o*(h*m-d*v)-s*(i*m-f*v)+l*(i*d-f*h),t[9]=-(r*(h*m-d*v)-s*(u*m-e*v)+l*(u*d-e*h)),t[10]=r*(i*m-f*v)-o*(u*m-e*v)+l*(u*f-e*i),t[11]=-(r*(i*d-f*h)-o*(u*d-e*h)+s*(u*f-e*i)),t[12]=-(o*(h*b-M*v)-s*(i*b-c*v)+l*(i*M-c*h)),t[13]=r*(h*b-M*v)-s*(u*b-a*v)+l*(u*M-a*h),t[14]=-(r*(i*b-c*v)-o*(u*b-a*v)+l*(u*c-a*i)),t[15]=r*(i*M-c*h)-o*(u*M-a*h)+s*(u*c-a*i),t}function y(t){var n=t[0],r=t[1],u=t[2],a=t[3],e=t[4],o=t[5],i=t[6],c=t[7],f=t[8],s=t[9],h=t[10],M=t[11],d=t[12],l=t[13],v=t[14],b=t[15];return(n*o-r*e)*(h*b-M*v)-(n*i-u*e)*(s*b-M*l)+(n*c-a*e)*(s*v-h*l)+(r*i-u*o)*(f*b-M*d)-(r*c-a*o)*(f*v-h*d)+(u*c-a*i)*(f*l-s*d)}function q(t,n,r){var u=n[0],a=n[1],e=n[2],o=n[3],i=n[4],c=n[5],f=n[6],s=n[7],h=n[8],M=n[9],d=n[10],l=n[11],v=n[12],b=n[13],m=n[14],p=n[15],y=r[0],q=r[1],g=r[2],x=r[3];return t[0]=y*u+q*i+g*h+x*v,t[1]=y*a+q*c+g*M+x*b,t[2]=y*e+q*f+g*d+x*m,t[3]=y*o+q*s+g*l+x*p,y=r[4],q=r[5],g=r[6],x=r[7],t[4]=y*u+q*i+g*h+x*v,t[5]=y*a+q*c+g*M+x*b,t[6]=y*e+q*f+g*d+x*m,t[7]=y*o+q*s+g*l+x*p,y=r[8],q=r[9],g=r[10],x=r[11],t[8]=y*u+q*i+g*h+x*v,t[9]=y*a+q*c+g*M+x*b,t[10]=y*e+q*f+g*d+x*m,t[11]=y*o+q*s+g*l+x*p,y=r[12],q=r[13],g=r[14],x=r[15],t[12]=y*u+q*i+g*h+x*v,t[13]=y*a+q*c+g*M+x*b,t[14]=y*e+q*f+g*d+x*m,t[15]=y*o+q*s+g*l+x*p,t}function g(t,n,r){var u,a,e,o,i,c,f,s,h,M,d,l,v=r[0],b=r[1],m=r[2];return n===t?(t[12]=n[0]*v+n[4]*b+n[8]*m+n[12],t[13]=n[1]*v+n[5]*b+n[9]*m+n[13],t[14]=n[2]*v+n[6]*b+n[10]*m+n[14],t[15]=n[3]*v+n[7]*b+n[11]*m+n[15]):(u=n[0],a=n[1],e=n[2],o=n[3],i=n[4],c=n[5],f=n[6],s=n[7],h=n[8],M=n[9],d=n[10],l=n[11],t[0]=u,t[1]=a,t[2]=e,t[3]=o,t[4]=i,t[5]=c,t[6]=f,t[7]=s,t[8]=h,t[9]=M,t[10]=d,t[11]=l,t[12]=u*v+i*b+h*m+n[12],t[13]=a*v+c*b+M*m+n[13],t[14]=e*v+f*b+d*m+n[14],t[15]=o*v+s*b+l*m+n[15]),t}function x(t,n,r){var u=r[0],a=r[1],e=r[2];return t[0]=n[0]*u,t[1]=n[1]*u,t[2]=n[2]*u,t[3]=n[3]*u,t[4]=n[4]*a,t[5]=n[5]*a,t[6]=n[6]*a,t[7]=n[7]*a,t[8]=n[8]*e,t[9]=n[9]*e,t[10]=n[10]*e,t[11]=n[11]*e,t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t}function w(t,n,r,u){var a,e,o,c,f,s,h,M,d,l,v,b,m,p,y,q,g,x,w,A,P,j,I,O,S=u[0],D=u[1],F=u[2],T=Math.sqrt(S*S+D*D+F*F);return T<i?null:(S*=T=1/T,D*=T,F*=T,a=Math.sin(r),o=1-(e=Math.cos(r)),c=n[0],f=n[1],s=n[2],h=n[3],M=n[4],d=n[5],l=n[6],v=n[7],b=n[8],m=n[9],p=n[10],y=n[11],q=S*S*o+e,g=D*S*o+F*a,x=F*S*o-D*a,w=S*D*o-F*a,A=D*D*o+e,P=F*D*o+S*a,j=S*F*o+D*a,I=D*F*o-S*a,O=F*F*o+e,t[0]=c*q+M*g+b*x,t[1]=f*q+d*g+m*x,t[2]=s*q+l*g+p*x,t[3]=h*q+v*g+y*x,t[4]=c*w+M*A+b*P,t[5]=f*w+d*A+m*P,t[6]=s*w+l*A+p*P,t[7]=h*w+v*A+y*P,t[8]=c*j+M*I+b*O,t[9]=f*j+d*I+m*O,t[10]=s*j+l*I+p*O,t[11]=h*j+v*I+y*O,n!==t&&(t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t)}function A(t,n,r){var u=Math.sin(r),a=Math.cos(r),e=n[4],o=n[5],i=n[6],c=n[7],f=n[8],s=n[9],h=n[10],M=n[11];return n!==t&&(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[4]=e*a+f*u,t[5]=o*a+s*u,t[6]=i*a+h*u,t[7]=c*a+M*u,t[8]=f*a-e*u,t[9]=s*a-o*u,t[10]=h*a-i*u,t[11]=M*a-c*u,t}function P(t,n,r){var u=Math.sin(r),a=Math.cos(r),e=n[0],o=n[1],i=n[2],c=n[3],f=n[8],s=n[9],h=n[10],M=n[11];return n!==t&&(t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[0]=e*a-f*u,t[1]=o*a-s*u,t[2]=i*a-h*u,t[3]=c*a-M*u,t[8]=e*u+f*a,t[9]=o*u+s*a,t[10]=i*u+h*a,t[11]=c*u+M*a,t}function j(t,n,r){var u=Math.sin(r),a=Math.cos(r),e=n[0],o=n[1],i=n[2],c=n[3],f=n[4],s=n[5],h=n[6],M=n[7];return n!==t&&(t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[0]=e*a+f*u,t[1]=o*a+s*u,t[2]=i*a+h*u,t[3]=c*a+M*u,t[4]=f*a-e*u,t[5]=s*a-o*u,t[6]=h*a-i*u,t[7]=M*a-c*u,t}function I(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function O(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=n[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function S(t,n,r){var u,a,e,o=r[0],c=r[1],f=r[2],s=Math.sqrt(o*o+c*c+f*f);return s<i?null:(o*=s=1/s,c*=s,f*=s,u=Math.sin(n),e=1-(a=Math.cos(n)),t[0]=o*o*e+a,t[1]=c*o*e+f*u,t[2]=f*o*e-c*u,t[3]=0,t[4]=o*c*e-f*u,t[5]=c*c*e+a,t[6]=f*c*e+o*u,t[7]=0,t[8]=o*f*e+c*u,t[9]=c*f*e-o*u,t[10]=f*f*e+a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function D(t,n){var r=Math.sin(n),u=Math.cos(n);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=r,t[7]=0,t[8]=0,t[9]=-r,t[10]=u,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function F(t,n){var r=Math.sin(n),u=Math.cos(n);return t[0]=u,t[1]=0,t[2]=-r,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=r,t[9]=0,t[10]=u,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function T(t,n){var r=Math.sin(n),u=Math.cos(n);return t[0]=u,t[1]=r,t[2]=0,t[3]=0,t[4]=-r,t[5]=u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function k(t,n,r){var u=n[0],a=n[1],e=n[2],o=n[3],i=u+u,c=a+a,f=e+e,s=u*i,h=u*c,M=u*f,d=a*c,l=a*f,v=e*f,b=o*i,m=o*c,p=o*f;return t[0]=1-(d+v),t[1]=h+p,t[2]=M-m,t[3]=0,t[4]=h-p,t[5]=1-(s+v),t[6]=l+b,t[7]=0,t[8]=M+m,t[9]=l-b,t[10]=1-(s+d),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function E(t,n){var r=new c(3),u=-n[0],a=-n[1],e=-n[2],o=n[3],i=n[4],f=n[5],s=n[6],h=n[7],M=u*u+a*a+e*e+o*o;return M>0?(r[0]=2*(i*o+h*u+f*e-s*a)/M,r[1]=2*(f*o+h*a+s*u-i*e)/M,r[2]=2*(s*o+h*e+i*a-f*u)/M):(r[0]=2*(i*o+h*u+f*e-s*a),r[1]=2*(f*o+h*a+s*u-i*e),r[2]=2*(s*o+h*e+i*a-f*u)),k(t,n,r),t}function R(t,n){return t[0]=n[12],t[1]=n[13],t[2]=n[14],t}function V(t,n){var r=n[0],u=n[1],a=n[2],e=n[4],o=n[5],i=n[6],c=n[8],f=n[9],s=n[10];return t[0]=Math.sqrt(r*r+u*u+a*a),t[1]=Math.sqrt(e*e+o*o+i*i),t[2]=Math.sqrt(c*c+f*f+s*s),t}function _(t,n){var r=n[0]+n[5]+n[10],u=0;return r>0?(u=2*Math.sqrt(r+1),t[3]=.25*u,t[0]=(n[6]-n[9])/u,t[1]=(n[8]-n[2])/u,t[2]=(n[1]-n[4])/u):n[0]>n[5]&&n[0]>n[10]?(u=2*Math.sqrt(1+n[0]-n[5]-n[10]),t[3]=(n[6]-n[9])/u,t[0]=.25*u,t[1]=(n[1]+n[4])/u,t[2]=(n[8]+n[2])/u):n[5]>n[10]?(u=2*Math.sqrt(1+n[5]-n[0]-n[10]),t[3]=(n[8]-n[2])/u,t[0]=(n[1]+n[4])/u,t[1]=.25*u,t[2]=(n[6]+n[9])/u):(u=2*Math.sqrt(1+n[10]-n[0]-n[5]),t[3]=(n[1]-n[4])/u,t[0]=(n[8]+n[2])/u,t[1]=(n[6]+n[9])/u,t[2]=.25*u),t}function L(t,n,r,u){var a=n[0],e=n[1],o=n[2],i=n[3],c=a+a,f=e+e,s=o+o,h=a*c,M=a*f,d=a*s,l=e*f,v=e*s,b=o*s,m=i*c,p=i*f,y=i*s,q=u[0],g=u[1],x=u[2];return t[0]=(1-(l+b))*q,t[1]=(M+y)*q,t[2]=(d-p)*q,t[3]=0,t[4]=(M-y)*g,t[5]=(1-(h+b))*g,t[6]=(v+m)*g,t[7]=0,t[8]=(d+p)*x,t[9]=(v-m)*x,t[10]=(1-(h+l))*x,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function Q(t,n,r,u,a){var e=n[0],o=n[1],i=n[2],c=n[3],f=e+e,s=o+o,h=i+i,M=e*f,d=e*s,l=e*h,v=o*s,b=o*h,m=i*h,p=c*f,y=c*s,q=c*h,g=u[0],x=u[1],w=u[2],A=a[0],P=a[1],j=a[2],I=(1-(v+m))*g,O=(d+q)*g,S=(l-y)*g,D=(d-q)*x,F=(1-(M+m))*x,T=(b+p)*x,k=(l+y)*w,E=(b-p)*w,R=(1-(M+v))*w;return t[0]=I,t[1]=O,t[2]=S,t[3]=0,t[4]=D,t[5]=F,t[6]=T,t[7]=0,t[8]=k,t[9]=E,t[10]=R,t[11]=0,t[12]=r[0]+A-(I*A+D*P+k*j),t[13]=r[1]+P-(O*A+F*P+E*j),t[14]=r[2]+j-(S*A+T*P+R*j),t[15]=1,t}function z(t,n){var r=n[0],u=n[1],a=n[2],e=n[3],o=r+r,i=u+u,c=a+a,f=r*o,s=u*o,h=u*i,M=a*o,d=a*i,l=a*c,v=e*o,b=e*i,m=e*c;return t[0]=1-h-l,t[1]=s+m,t[2]=M-b,t[3]=0,t[4]=s-m,t[5]=1-f-l,t[6]=d+v,t[7]=0,t[8]=M+b,t[9]=d-v,t[10]=1-f-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function C(t,n,r,u,a,e,o){var i=1/(r-n),c=1/(a-u),f=1/(e-o);return t[0]=2*e*i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*e*c,t[6]=0,t[7]=0,t[8]=(r+n)*i,t[9]=(a+u)*c,t[10]=(o+e)*f,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*e*2*f,t[15]=0,t}function X(t,n,r,u,a){var e,o=1/Math.tan(n/2);return t[0]=o/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=a&&a!==1/0?(e=1/(u-a),t[10]=(a+u)*e,t[14]=2*a*u*e):(t[10]=-1,t[14]=-2*u),t}function Y(t,n,r,u){var a=Math.tan(n.upDegrees*Math.PI/180),e=Math.tan(n.downDegrees*Math.PI/180),o=Math.tan(n.leftDegrees*Math.PI/180),i=Math.tan(n.rightDegrees*Math.PI/180),c=2/(o+i),f=2/(a+e);return t[0]=c,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=f,t[6]=0,t[7]=0,t[8]=-(o-i)*c*.5,t[9]=(a-e)*f*.5,t[10]=u/(r-u),t[11]=-1,t[12]=0,t[13]=0,t[14]=u*r/(r-u),t[15]=0,t}function Z(t,n,r,u,a,e,o){var i=1/(n-r),c=1/(u-a),f=1/(e-o);return t[0]=-2*i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*f,t[11]=0,t[12]=(n+r)*i,t[13]=(a+u)*c,t[14]=(o+e)*f,t[15]=1,t}function N(t,n,r,u){var a,e,o,c,f,s,h,M,d,l,b=n[0],m=n[1],p=n[2],y=u[0],q=u[1],g=u[2],x=r[0],w=r[1],A=r[2];return Math.abs(b-x)<i&&Math.abs(m-w)<i&&Math.abs(p-A)<i?v(t):(h=b-x,M=m-w,d=p-A,a=q*(d*=l=1/Math.sqrt(h*h+M*M+d*d))-g*(M*=l),e=g*(h*=l)-y*d,o=y*M-q*h,(l=Math.sqrt(a*a+e*e+o*o))?(a*=l=1/l,e*=l,o*=l):(a=0,e=0,o=0),c=M*o-d*e,f=d*a-h*o,s=h*e-M*a,(l=Math.sqrt(c*c+f*f+s*s))?(c*=l=1/l,f*=l,s*=l):(c=0,f=0,s=0),t[0]=a,t[1]=c,t[2]=h,t[3]=0,t[4]=e,t[5]=f,t[6]=M,t[7]=0,t[8]=o,t[9]=s,t[10]=d,t[11]=0,t[12]=-(a*b+e*m+o*p),t[13]=-(c*b+f*m+s*p),t[14]=-(h*b+M*m+d*p),t[15]=1,t)}function U(t,n,r,u){var a=n[0],e=n[1],o=n[2],i=u[0],c=u[1],f=u[2],s=a-r[0],h=e-r[1],M=o-r[2],d=s*s+h*h+M*M;d>0&&(s*=d=1/Math.sqrt(d),h*=d,M*=d);var l=c*M-f*h,v=f*s-i*M,b=i*h-c*s;return(d=l*l+v*v+b*b)>0&&(l*=d=1/Math.sqrt(d),v*=d,b*=d),t[0]=l,t[1]=v,t[2]=b,t[3]=0,t[4]=h*b-M*v,t[5]=M*l-s*b,t[6]=s*v-h*l,t[7]=0,t[8]=s,t[9]=h,t[10]=M,t[11]=0,t[12]=a,t[13]=e,t[14]=o,t[15]=1,t}function W(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function B(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))}function G(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t[3]=n[3]+r[3],t[4]=n[4]+r[4],t[5]=n[5]+r[5],t[6]=n[6]+r[6],t[7]=n[7]+r[7],t[8]=n[8]+r[8],t[9]=n[9]+r[9],t[10]=n[10]+r[10],t[11]=n[11]+r[11],t[12]=n[12]+r[12],t[13]=n[13]+r[13],t[14]=n[14]+r[14],t[15]=n[15]+r[15],t}function H(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t[2]=n[2]-r[2],t[3]=n[3]-r[3],t[4]=n[4]-r[4],t[5]=n[5]-r[5],t[6]=n[6]-r[6],t[7]=n[7]-r[7],t[8]=n[8]-r[8],t[9]=n[9]-r[9],t[10]=n[10]-r[10],t[11]=n[11]-r[11],t[12]=n[12]-r[12],t[13]=n[13]-r[13],t[14]=n[14]-r[14],t[15]=n[15]-r[15],t}function J(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=n[7]*r,t[8]=n[8]*r,t[9]=n[9]*r,t[10]=n[10]*r,t[11]=n[11]*r,t[12]=n[12]*r,t[13]=n[13]*r,t[14]=n[14]*r,t[15]=n[15]*r,t}function K(t,n,r,u){return t[0]=n[0]+r[0]*u,t[1]=n[1]+r[1]*u,t[2]=n[2]+r[2]*u,t[3]=n[3]+r[3]*u,t[4]=n[4]+r[4]*u,t[5]=n[5]+r[5]*u,t[6]=n[6]+r[6]*u,t[7]=n[7]+r[7]*u,t[8]=n[8]+r[8]*u,t[9]=n[9]+r[9]*u,t[10]=n[10]+r[10]*u,t[11]=n[11]+r[11]*u,t[12]=n[12]+r[12]*u,t[13]=n[13]+r[13]*u,t[14]=n[14]+r[14]*u,t[15]=n[15]+r[15]*u,t}function $(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]&&t[9]===n[9]&&t[10]===n[10]&&t[11]===n[11]&&t[12]===n[12]&&t[13]===n[13]&&t[14]===n[14]&&t[15]===n[15]}function tt(t,n){var r=t[0],u=t[1],a=t[2],e=t[3],o=t[4],c=t[5],f=t[6],s=t[7],h=t[8],M=t[9],d=t[10],l=t[11],v=t[12],b=t[13],m=t[14],p=t[15],y=n[0],q=n[1],g=n[2],x=n[3],w=n[4],A=n[5],P=n[6],j=n[7],I=n[8],O=n[9],S=n[10],D=n[11],F=n[12],T=n[13],k=n[14],E=n[15];return Math.abs(r-y)<=i*Math.max(1,Math.abs(r),Math.abs(y))&&Math.abs(u-q)<=i*Math.max(1,Math.abs(u),Math.abs(q))&&Math.abs(a-g)<=i*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(e-x)<=i*Math.max(1,Math.abs(e),Math.abs(x))&&Math.abs(o-w)<=i*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(c-A)<=i*Math.max(1,Math.abs(c),Math.abs(A))&&Math.abs(f-P)<=i*Math.max(1,Math.abs(f),Math.abs(P))&&Math.abs(s-j)<=i*Math.max(1,Math.abs(s),Math.abs(j))&&Math.abs(h-I)<=i*Math.max(1,Math.abs(h),Math.abs(I))&&Math.abs(M-O)<=i*Math.max(1,Math.abs(M),Math.abs(O))&&Math.abs(d-S)<=i*Math.max(1,Math.abs(d),Math.abs(S))&&Math.abs(l-D)<=i*Math.max(1,Math.abs(l),Math.abs(D))&&Math.abs(v-F)<=i*Math.max(1,Math.abs(v),Math.abs(F))&&Math.abs(b-T)<=i*Math.max(1,Math.abs(b),Math.abs(T))&&Math.abs(m-k)<=i*Math.max(1,Math.abs(m),Math.abs(k))&&Math.abs(p-E)<=i*Math.max(1,Math.abs(p),Math.abs(E))}var nt=q,rt=H;function ut(){var t=new c(3);return c!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function at(t){var n=new c(3);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n}function et(t){var n=t[0],r=t[1],u=t[2];return Math.sqrt(n*n+r*r+u*u)}function ot(t,n,r){var u=new c(3);return u[0]=t,u[1]=n,u[2]=r,u}function it(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t}function ct(t,n,r,u){return t[0]=n,t[1]=r,t[2]=u,t}function ft(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t}function st(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t[2]=n[2]-r[2],t}function ht(t,n,r){return t[0]=n[0]*r[0],t[1]=n[1]*r[1],t[2]=n[2]*r[2],t}function Mt(t,n,r){return t[0]=n[0]/r[0],t[1]=n[1]/r[1],t[2]=n[2]/r[2],t}function dt(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t}function lt(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t}function vt(t,n,r){return t[0]=Math.min(n[0],r[0]),t[1]=Math.min(n[1],r[1]),t[2]=Math.min(n[2],r[2]),t}function bt(t,n,r){return t[0]=Math.max(n[0],r[0]),t[1]=Math.max(n[1],r[1]),t[2]=Math.max(n[2],r[2]),t}function mt(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t}function pt(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t}function yt(t,n,r,u){return t[0]=n[0]+r[0]*u,t[1]=n[1]+r[1]*u,t[2]=n[2]+r[2]*u,t}function qt(t,n){var r=n[0]-t[0],u=n[1]-t[1],a=n[2]-t[2];return Math.sqrt(r*r+u*u+a*a)}function gt(t,n){var r=n[0]-t[0],u=n[1]-t[1],a=n[2]-t[2];return r*r+u*u+a*a}function xt(t){var n=t[0],r=t[1],u=t[2];return n*n+r*r+u*u}function wt(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t}function At(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t}function Pt(t,n){var r=n[0],u=n[1],a=n[2],e=r*r+u*u+a*a;return e>0&&(e=1/Math.sqrt(e)),t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t}function jt(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function It(t,n,r){var u=n[0],a=n[1],e=n[2],o=r[0],i=r[1],c=r[2];return t[0]=a*c-e*i,t[1]=e*o-u*c,t[2]=u*i-a*o,t}function Ot(t,n,r,u){var a=n[0],e=n[1],o=n[2];return t[0]=a+u*(r[0]-a),t[1]=e+u*(r[1]-e),t[2]=o+u*(r[2]-o),t}function St(t,n,r,u,a,e){var o=e*e,i=o*(2*e-3)+1,c=o*(e-2)+e,f=o*(e-1),s=o*(3-2*e);return t[0]=n[0]*i+r[0]*c+u[0]*f+a[0]*s,t[1]=n[1]*i+r[1]*c+u[1]*f+a[1]*s,t[2]=n[2]*i+r[2]*c+u[2]*f+a[2]*s,t}function Dt(t,n,r,u,a,e){var o=1-e,i=o*o,c=e*e,f=i*o,s=3*e*i,h=3*c*o,M=c*e;return t[0]=n[0]*f+r[0]*s+u[0]*h+a[0]*M,t[1]=n[1]*f+r[1]*s+u[1]*h+a[1]*M,t[2]=n[2]*f+r[2]*s+u[2]*h+a[2]*M,t}function Ft(t,n){n=n||1;var r=2*f()*Math.PI,u=2*f()-1,a=Math.sqrt(1-u*u)*n;return t[0]=Math.cos(r)*a,t[1]=Math.sin(r)*a,t[2]=u*n,t}function Tt(t,n,r){var u=n[0],a=n[1],e=n[2],o=r[3]*u+r[7]*a+r[11]*e+r[15];return o=o||1,t[0]=(r[0]*u+r[4]*a+r[8]*e+r[12])/o,t[1]=(r[1]*u+r[5]*a+r[9]*e+r[13])/o,t[2]=(r[2]*u+r[6]*a+r[10]*e+r[14])/o,t}function kt(t,n,r){var u=n[0],a=n[1],e=n[2];return t[0]=u*r[0]+a*r[3]+e*r[6],t[1]=u*r[1]+a*r[4]+e*r[7],t[2]=u*r[2]+a*r[5]+e*r[8],t}function Et(t,n,r){var u=r[0],a=r[1],e=r[2],o=r[3],i=n[0],c=n[1],f=n[2],s=a*f-e*c,h=e*i-u*f,M=u*c-a*i,d=a*M-e*h,l=e*s-u*M,v=u*h-a*s,b=2*o;return s*=b,h*=b,M*=b,d*=2,l*=2,v*=2,t[0]=i+s+d,t[1]=c+h+l,t[2]=f+M+v,t}function Rt(t,n,r,u){var a=[],e=[];return a[0]=n[0]-r[0],a[1]=n[1]-r[1],a[2]=n[2]-r[2],e[0]=a[0],e[1]=a[1]*Math.cos(u)-a[2]*Math.sin(u),e[2]=a[1]*Math.sin(u)+a[2]*Math.cos(u),t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t}function Vt(t,n,r,u){var a=[],e=[];return a[0]=n[0]-r[0],a[1]=n[1]-r[1],a[2]=n[2]-r[2],e[0]=a[2]*Math.sin(u)+a[0]*Math.cos(u),e[1]=a[1],e[2]=a[2]*Math.cos(u)-a[0]*Math.sin(u),t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t}function _t(t,n,r,u){var a=[],e=[];return a[0]=n[0]-r[0],a[1]=n[1]-r[1],a[2]=n[2]-r[2],e[0]=a[0]*Math.cos(u)-a[1]*Math.sin(u),e[1]=a[0]*Math.sin(u)+a[1]*Math.cos(u),e[2]=a[2],t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t}function Lt(t,n){var r=ot(t[0],t[1],t[2]),u=ot(n[0],n[1],n[2]);Pt(r,r),Pt(u,u);var a=jt(r,u);return a>1?0:a<-1?Math.PI:Math.acos(a)}function Qt(t){return t[0]=0,t[1]=0,t[2]=0,t}function zt(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function Ct(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]}function Xt(t,n){var r=t[0],u=t[1],a=t[2],e=n[0],o=n[1],c=n[2];return Math.abs(r-e)<=i*Math.max(1,Math.abs(r),Math.abs(e))&&Math.abs(u-o)<=i*Math.max(1,Math.abs(u),Math.abs(o))&&Math.abs(a-c)<=i*Math.max(1,Math.abs(a),Math.abs(c))}var Yt,Zt=st,Nt=ht,Ut=Mt,Wt=qt,Bt=gt,Gt=et,Ht=xt,Jt=(Yt=ut(),function(t,n,r,u,a,e){var o,i;for(n||(n=3),r||(r=0),i=u?Math.min(u*n+r,t.length):t.length,o=r;o<i;o+=n)Yt[0]=t[o],Yt[1]=t[o+1],Yt[2]=t[o+2],a(Yt,Yt,e),t[o]=Yt[0],t[o+1]=Yt[1],t[o+2]=Yt[2];return t});function Kt(t){var n=t[0],r=t[1],u=t[2],a=t[3];return Math.sqrt(n*n+r*r+u*u+a*a)}function $t(t){var n=t[0],r=t[1],u=t[2],a=t[3];return n*n+r*r+u*u+a*a}!function(){var t,n=(t=new c(4),c!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t)}();function tn(){var t=new c(4);return c!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function nn(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function rn(t,n,r){r*=.5;var u=Math.sin(r);return t[0]=u*n[0],t[1]=u*n[1],t[2]=u*n[2],t[3]=Math.cos(r),t}function un(t,n){var r=2*Math.acos(n[3]),u=Math.sin(r/2);return u>i?(t[0]=n[0]/u,t[1]=n[1]/u,t[2]=n[2]/u):(t[0]=1,t[1]=0,t[2]=0),r}function an(t,n,r){var u=n[0],a=n[1],e=n[2],o=n[3],i=r[0],c=r[1],f=r[2],s=r[3];return t[0]=u*s+o*i+a*f-e*c,t[1]=a*s+o*c+e*i-u*f,t[2]=e*s+o*f+u*c-a*i,t[3]=o*s-u*i-a*c-e*f,t}function en(t,n,r){r*=.5;var u=n[0],a=n[1],e=n[2],o=n[3],i=Math.sin(r),c=Math.cos(r);return t[0]=u*c+o*i,t[1]=a*c+e*i,t[2]=e*c-a*i,t[3]=o*c-u*i,t}function on(t,n,r){r*=.5;var u=n[0],a=n[1],e=n[2],o=n[3],i=Math.sin(r),c=Math.cos(r);return t[0]=u*c-e*i,t[1]=a*c+o*i,t[2]=e*c+u*i,t[3]=o*c-a*i,t}function cn(t,n,r){r*=.5;var u=n[0],a=n[1],e=n[2],o=n[3],i=Math.sin(r),c=Math.cos(r);return t[0]=u*c+a*i,t[1]=a*c-u*i,t[2]=e*c+o*i,t[3]=o*c-e*i,t}function fn(t,n){var r=n[0],u=n[1],a=n[2];return t[0]=r,t[1]=u,t[2]=a,t[3]=Math.sqrt(Math.abs(1-r*r-u*u-a*a)),t}function sn(t,n,r,u){var a,e,o,c,f,s=n[0],h=n[1],M=n[2],d=n[3],l=r[0],v=r[1],b=r[2],m=r[3];return(e=s*l+h*v+M*b+d*m)<0&&(e=-e,l=-l,v=-v,b=-b,m=-m),1-e>i?(a=Math.acos(e),o=Math.sin(a),c=Math.sin((1-u)*a)/o,f=Math.sin(u*a)/o):(c=1-u,f=u),t[0]=c*s+f*l,t[1]=c*h+f*v,t[2]=c*M+f*b,t[3]=c*d+f*m,t}function hn(t){var n=f(),r=f(),u=f(),a=Math.sqrt(1-n),e=Math.sqrt(n);return t[0]=a*Math.sin(2*Math.PI*r),t[1]=a*Math.cos(2*Math.PI*r),t[2]=e*Math.sin(2*Math.PI*u),t[3]=e*Math.cos(2*Math.PI*u),t}function Mn(t,n){var r=n[0],u=n[1],a=n[2],e=n[3],o=r*r+u*u+a*a+e*e,i=o?1/o:0;return t[0]=-r*i,t[1]=-u*i,t[2]=-a*i,t[3]=e*i,t}function dn(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=n[3],t}function ln(t,n){var r,u=n[0]+n[4]+n[8];if(u>0)r=Math.sqrt(u+1),t[3]=.5*r,r=.5/r,t[0]=(n[5]-n[7])*r,t[1]=(n[6]-n[2])*r,t[2]=(n[1]-n[3])*r;else{var a=0;n[4]>n[0]&&(a=1),n[8]>n[3*a+a]&&(a=2);var e=(a+1)%3,o=(a+2)%3;r=Math.sqrt(n[3*a+a]-n[3*e+e]-n[3*o+o]+1),t[a]=.5*r,r=.5/r,t[3]=(n[3*e+o]-n[3*o+e])*r,t[e]=(n[3*e+a]+n[3*a+e])*r,t[o]=(n[3*o+a]+n[3*a+o])*r}return t}function vn(t,n,r,u){var a=.5*Math.PI/180;n*=a,r*=a,u*=a;var e=Math.sin(n),o=Math.cos(n),i=Math.sin(r),c=Math.cos(r),f=Math.sin(u),s=Math.cos(u);return t[0]=e*c*s-o*i*f,t[1]=o*i*s+e*c*f,t[2]=o*c*f-e*i*s,t[3]=o*c*s+e*i*f,t}function bn(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}var mn,pn,yn,qn,gn,xn,wn,An=function(t){var n=new c(4);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n},Pn=function(t,n,r,u){var a=new c(4);return a[0]=t,a[1]=n,a[2]=r,a[3]=u,a},jn=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t},In=function(t,n,r,u,a){return t[0]=n,t[1]=r,t[2]=u,t[3]=a,t},On=function(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t[3]=n[3]+r[3],t},Sn=an,Dn=function(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t},Fn=function(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3]},Tn=function(t,n,r,u){var a=n[0],e=n[1],o=n[2],i=n[3];return t[0]=a+u*(r[0]-a),t[1]=e+u*(r[1]-e),t[2]=o+u*(r[2]-o),t[3]=i+u*(r[3]-i),t},kn=Kt,En=kn,Rn=$t,Vn=Rn,_n=function(t,n){var r=n[0],u=n[1],a=n[2],e=n[3],o=r*r+u*u+a*a+e*e;return o>0&&(o=1/Math.sqrt(o)),t[0]=r*o,t[1]=u*o,t[2]=a*o,t[3]=e*o,t},Ln=function(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]},Qn=function(t,n){var r=t[0],u=t[1],a=t[2],e=t[3],o=n[0],c=n[1],f=n[2],s=n[3];return Math.abs(r-o)<=i*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(u-c)<=i*Math.max(1,Math.abs(u),Math.abs(c))&&Math.abs(a-f)<=i*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(e-s)<=i*Math.max(1,Math.abs(e),Math.abs(s))},zn=(mn=ut(),pn=ot(1,0,0),yn=ot(0,1,0),function(t,n,r){var u=jt(n,r);return u<-.999999?(It(mn,pn,n),Gt(mn)<1e-6&&It(mn,yn,n),Pt(mn,mn),rn(t,mn,Math.PI),t):u>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(It(mn,n,r),t[0]=mn[0],t[1]=mn[1],t[2]=mn[2],t[3]=1+u,_n(t,t))}),Cn=(qn=tn(),gn=tn(),function(t,n,r,u,a,e){return sn(qn,n,a,e),sn(gn,r,u,e),sn(t,qn,gn,2*e*(1-e)),t}),Xn=(xn=new c(9),c!=Float32Array&&(xn[1]=0,xn[2]=0,xn[3]=0,xn[5]=0,xn[6]=0,xn[7]=0),xn[0]=1,xn[4]=1,xn[8]=1,wn=xn,function(t,n,r,u){return wn[0]=r[0],wn[3]=r[1],wn[6]=r[2],wn[1]=u[0],wn[4]=u[1],wn[7]=u[2],wn[2]=-n[0],wn[5]=-n[1],wn[8]=-n[2],_n(t,ln(t,wn))}),Yn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return a.fromValues(t,n,r)},Zn=function(t,n,r,u){return e.fromValues(t,n,r,u)},Nn=function(){return u.create()},Un=function(t,n,r){return a.add(t,n,r)},Wn=function(t,n,r,u){return e.fromEuler(t,n,r,u)},Bn=function(t,n,r){return e.multiply(t,n,r)},Gn=function(t,n,r,a){return u.lookAt(t,n,r,a)},Hn=function(t,n,r,a,e){return u.perspective(t,n,r,a,e)},Jn=function(t,n,r,a,e,o,i){return u.ortho(t,n,r,a,e,o,i)},Kn=function(t,n){return u.copy(t,n)};function $n(t,n){for(var r=0;r<n.length;r++){var u=n[r];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}var tr=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.parent=null,this.children=[],this.position=Yn(),this.scaling=Yn(1,1,1),this.quaternion=Zn(0,0,0,1),this.transformDirty=!1,this.modelMatrix=Nn()}var n,r,u;return n=t,(r=[{key:"addChild",value:function(t){t.parent=this,this.children.push(t)}},{key:"getChildren",value:function(){for(var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).recursive,n=[],r=0;r<this.children.length;r++){var u=this.children[r];if(n.push(u),t){var a=u.getChildren({recursive:t});n=n.concat(a)}}return n}},{key:"translate",value:function(t,n,r){this.position=Un(this.position,this.position,Yn(t,n,r)),this.transformDirty=!0}},{key:"scale",value:function(t,n,r){this.scaling=Un(this.scaling,this.scaling,Yn(t,n,r)),this.transformDirty=!0}},{key:"rotate",value:function(t,n,r){var u=Wn(Zn(),t,n,r);this.quaternion=Bn(this.quaternion,this.quaternion,u),this.transformDirty=!0}}])&&$n(n.prototype,r),u&&$n(n,u),t}();r.d(n,"Node",function(){return tr}),r.d(n,"MathUtils",function(){return o})}})});