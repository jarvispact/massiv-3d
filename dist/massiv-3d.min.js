!function(t,n){if("object"==typeof exports&&"object"==typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var r=n();for(var a in r)("object"==typeof exports?exports:t)[a]=r[a]}}(window,function(){return function(t){var n={};function r(a){if(n[a])return n[a].exports;var u=n[a]={i:a,l:!1,exports:{}};return t[a].call(u.exports,u,u.exports,r),u.l=!0,u.exports}return r.m=t,r.c=n,r.d=function(t,n,a){r.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:a})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,n){if(1&n&&(t=r(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var u in t)r.d(a,u,function(n){return t[n]}.bind(null,u));return a},r.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(n,"a",n),n},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.p="",r(r.s=4)}({4:function(t,n,r){"use strict";r.r(n);var a={};r.r(a),r.d(a,"create",function(){return f}),r.d(a,"clone",function(){return s}),r.d(a,"copy",function(){return h}),r.d(a,"fromValues",function(){return M}),r.d(a,"set",function(){return d}),r.d(a,"identity",function(){return l}),r.d(a,"transpose",function(){return v}),r.d(a,"invert",function(){return m}),r.d(a,"adjoint",function(){return b}),r.d(a,"determinant",function(){return p}),r.d(a,"multiply",function(){return y}),r.d(a,"translate",function(){return x}),r.d(a,"scale",function(){return q}),r.d(a,"rotate",function(){return g}),r.d(a,"rotateX",function(){return w}),r.d(a,"rotateY",function(){return P}),r.d(a,"rotateZ",function(){return A}),r.d(a,"fromTranslation",function(){return j}),r.d(a,"fromScaling",function(){return D}),r.d(a,"fromRotation",function(){return I}),r.d(a,"fromXRotation",function(){return S}),r.d(a,"fromYRotation",function(){return T}),r.d(a,"fromZRotation",function(){return O}),r.d(a,"fromRotationTranslation",function(){return R}),r.d(a,"fromQuat2",function(){return F}),r.d(a,"getTranslation",function(){return k}),r.d(a,"getScaling",function(){return V}),r.d(a,"getRotation",function(){return E}),r.d(a,"fromRotationTranslationScale",function(){return _}),r.d(a,"fromRotationTranslationScaleOrigin",function(){return z}),r.d(a,"fromQuat",function(){return C}),r.d(a,"frustum",function(){return L}),r.d(a,"perspective",function(){return X}),r.d(a,"perspectiveFromFieldOfView",function(){return Y}),r.d(a,"ortho",function(){return Z}),r.d(a,"lookAt",function(){return Q}),r.d(a,"targetTo",function(){return N}),r.d(a,"str",function(){return W}),r.d(a,"frob",function(){return B}),r.d(a,"add",function(){return G}),r.d(a,"subtract",function(){return H}),r.d(a,"multiplyScalar",function(){return J}),r.d(a,"multiplyScalarAndAdd",function(){return K}),r.d(a,"exactEquals",function(){return U}),r.d(a,"equals",function(){return $}),r.d(a,"mul",function(){return tt}),r.d(a,"sub",function(){return nt});var u={};r.r(u),r.d(u,"create",function(){return rt}),r.d(u,"clone",function(){return at}),r.d(u,"length",function(){return ut}),r.d(u,"fromValues",function(){return et}),r.d(u,"copy",function(){return ot}),r.d(u,"set",function(){return it}),r.d(u,"add",function(){return ct}),r.d(u,"subtract",function(){return ft}),r.d(u,"multiply",function(){return st}),r.d(u,"divide",function(){return ht}),r.d(u,"ceil",function(){return Mt}),r.d(u,"floor",function(){return dt}),r.d(u,"min",function(){return lt}),r.d(u,"max",function(){return vt}),r.d(u,"round",function(){return mt}),r.d(u,"scale",function(){return bt}),r.d(u,"scaleAndAdd",function(){return pt}),r.d(u,"distance",function(){return yt}),r.d(u,"squaredDistance",function(){return xt}),r.d(u,"squaredLength",function(){return qt}),r.d(u,"negate",function(){return gt}),r.d(u,"inverse",function(){return wt}),r.d(u,"normalize",function(){return Pt}),r.d(u,"dot",function(){return At}),r.d(u,"cross",function(){return jt}),r.d(u,"lerp",function(){return Dt}),r.d(u,"hermite",function(){return It}),r.d(u,"bezier",function(){return St}),r.d(u,"random",function(){return Tt}),r.d(u,"transformMat4",function(){return Ot}),r.d(u,"transformMat3",function(){return Rt}),r.d(u,"transformQuat",function(){return Ft}),r.d(u,"rotateX",function(){return kt}),r.d(u,"rotateY",function(){return Vt}),r.d(u,"rotateZ",function(){return Et}),r.d(u,"angle",function(){return _t}),r.d(u,"zero",function(){return zt}),r.d(u,"str",function(){return Ct}),r.d(u,"exactEquals",function(){return Lt}),r.d(u,"equals",function(){return Xt}),r.d(u,"sub",function(){return Zt}),r.d(u,"mul",function(){return Qt}),r.d(u,"div",function(){return Nt}),r.d(u,"dist",function(){return Wt}),r.d(u,"sqrDist",function(){return Bt}),r.d(u,"len",function(){return Gt}),r.d(u,"sqrLen",function(){return Ht}),r.d(u,"forEach",function(){return Jt});var e={};r.r(e),r.d(e,"create",function(){return $t}),r.d(e,"identity",function(){return tn}),r.d(e,"setAxisAngle",function(){return nn}),r.d(e,"getAxisAngle",function(){return rn}),r.d(e,"multiply",function(){return an}),r.d(e,"rotateX",function(){return un}),r.d(e,"rotateY",function(){return en}),r.d(e,"rotateZ",function(){return on}),r.d(e,"calculateW",function(){return cn}),r.d(e,"slerp",function(){return fn}),r.d(e,"random",function(){return sn}),r.d(e,"invert",function(){return hn}),r.d(e,"conjugate",function(){return Mn}),r.d(e,"fromMat3",function(){return dn}),r.d(e,"fromEuler",function(){return ln}),r.d(e,"str",function(){return vn}),r.d(e,"clone",function(){return wn}),r.d(e,"fromValues",function(){return Pn}),r.d(e,"copy",function(){return An}),r.d(e,"set",function(){return jn}),r.d(e,"add",function(){return Dn}),r.d(e,"mul",function(){return In}),r.d(e,"scale",function(){return Sn}),r.d(e,"dot",function(){return Tn}),r.d(e,"lerp",function(){return On}),r.d(e,"length",function(){return Rn}),r.d(e,"len",function(){return Fn}),r.d(e,"squaredLength",function(){return kn}),r.d(e,"sqrLen",function(){return Vn}),r.d(e,"normalize",function(){return En}),r.d(e,"exactEquals",function(){return _n}),r.d(e,"equals",function(){return zn}),r.d(e,"rotationTo",function(){return Cn}),r.d(e,"sqlerp",function(){return Ln}),r.d(e,"setAxes",function(){return Xn});var o=1e-6,i="undefined"!=typeof Float32Array?Float32Array:Array,c=Math.random;Math.PI;function f(){var t=new i(16);return i!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function s(t){var n=new i(16);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n[9]=t[9],n[10]=t[10],n[11]=t[11],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15],n}function h(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t}function M(t,n,r,a,u,e,o,c,f,s,h,M,d,l,v,m){var b=new i(16);return b[0]=t,b[1]=n,b[2]=r,b[3]=a,b[4]=u,b[5]=e,b[6]=o,b[7]=c,b[8]=f,b[9]=s,b[10]=h,b[11]=M,b[12]=d,b[13]=l,b[14]=v,b[15]=m,b}function d(t,n,r,a,u,e,o,i,c,f,s,h,M,d,l,v,m){return t[0]=n,t[1]=r,t[2]=a,t[3]=u,t[4]=e,t[5]=o,t[6]=i,t[7]=c,t[8]=f,t[9]=s,t[10]=h,t[11]=M,t[12]=d,t[13]=l,t[14]=v,t[15]=m,t}function l(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function v(t,n){if(t===n){var r=n[1],a=n[2],u=n[3],e=n[6],o=n[7],i=n[11];t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=r,t[6]=n[9],t[7]=n[13],t[8]=a,t[9]=e,t[11]=n[14],t[12]=u,t[13]=o,t[14]=i}else t[0]=n[0],t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=n[1],t[5]=n[5],t[6]=n[9],t[7]=n[13],t[8]=n[2],t[9]=n[6],t[10]=n[10],t[11]=n[14],t[12]=n[3],t[13]=n[7],t[14]=n[11],t[15]=n[15];return t}function m(t,n){var r=n[0],a=n[1],u=n[2],e=n[3],o=n[4],i=n[5],c=n[6],f=n[7],s=n[8],h=n[9],M=n[10],d=n[11],l=n[12],v=n[13],m=n[14],b=n[15],p=r*i-a*o,y=r*c-u*o,x=r*f-e*o,q=a*c-u*i,g=a*f-e*i,w=u*f-e*c,P=s*v-h*l,A=s*m-M*l,j=s*b-d*l,D=h*m-M*v,I=h*b-d*v,S=M*b-d*m,T=p*S-y*I+x*D+q*j-g*A+w*P;return T?(T=1/T,t[0]=(i*S-c*I+f*D)*T,t[1]=(u*I-a*S-e*D)*T,t[2]=(v*w-m*g+b*q)*T,t[3]=(M*g-h*w-d*q)*T,t[4]=(c*j-o*S-f*A)*T,t[5]=(r*S-u*j+e*A)*T,t[6]=(m*x-l*w-b*y)*T,t[7]=(s*w-M*x+d*y)*T,t[8]=(o*I-i*j+f*P)*T,t[9]=(a*j-r*I-e*P)*T,t[10]=(l*g-v*x+b*p)*T,t[11]=(h*x-s*g-d*p)*T,t[12]=(i*A-o*D-c*P)*T,t[13]=(r*D-a*A+u*P)*T,t[14]=(v*y-l*q-m*p)*T,t[15]=(s*q-h*y+M*p)*T,t):null}function b(t,n){var r=n[0],a=n[1],u=n[2],e=n[3],o=n[4],i=n[5],c=n[6],f=n[7],s=n[8],h=n[9],M=n[10],d=n[11],l=n[12],v=n[13],m=n[14],b=n[15];return t[0]=i*(M*b-d*m)-h*(c*b-f*m)+v*(c*d-f*M),t[1]=-(a*(M*b-d*m)-h*(u*b-e*m)+v*(u*d-e*M)),t[2]=a*(c*b-f*m)-i*(u*b-e*m)+v*(u*f-e*c),t[3]=-(a*(c*d-f*M)-i*(u*d-e*M)+h*(u*f-e*c)),t[4]=-(o*(M*b-d*m)-s*(c*b-f*m)+l*(c*d-f*M)),t[5]=r*(M*b-d*m)-s*(u*b-e*m)+l*(u*d-e*M),t[6]=-(r*(c*b-f*m)-o*(u*b-e*m)+l*(u*f-e*c)),t[7]=r*(c*d-f*M)-o*(u*d-e*M)+s*(u*f-e*c),t[8]=o*(h*b-d*v)-s*(i*b-f*v)+l*(i*d-f*h),t[9]=-(r*(h*b-d*v)-s*(a*b-e*v)+l*(a*d-e*h)),t[10]=r*(i*b-f*v)-o*(a*b-e*v)+l*(a*f-e*i),t[11]=-(r*(i*d-f*h)-o*(a*d-e*h)+s*(a*f-e*i)),t[12]=-(o*(h*m-M*v)-s*(i*m-c*v)+l*(i*M-c*h)),t[13]=r*(h*m-M*v)-s*(a*m-u*v)+l*(a*M-u*h),t[14]=-(r*(i*m-c*v)-o*(a*m-u*v)+l*(a*c-u*i)),t[15]=r*(i*M-c*h)-o*(a*M-u*h)+s*(a*c-u*i),t}function p(t){var n=t[0],r=t[1],a=t[2],u=t[3],e=t[4],o=t[5],i=t[6],c=t[7],f=t[8],s=t[9],h=t[10],M=t[11],d=t[12],l=t[13],v=t[14],m=t[15];return(n*o-r*e)*(h*m-M*v)-(n*i-a*e)*(s*m-M*l)+(n*c-u*e)*(s*v-h*l)+(r*i-a*o)*(f*m-M*d)-(r*c-u*o)*(f*v-h*d)+(a*c-u*i)*(f*l-s*d)}function y(t,n,r){var a=n[0],u=n[1],e=n[2],o=n[3],i=n[4],c=n[5],f=n[6],s=n[7],h=n[8],M=n[9],d=n[10],l=n[11],v=n[12],m=n[13],b=n[14],p=n[15],y=r[0],x=r[1],q=r[2],g=r[3];return t[0]=y*a+x*i+q*h+g*v,t[1]=y*u+x*c+q*M+g*m,t[2]=y*e+x*f+q*d+g*b,t[3]=y*o+x*s+q*l+g*p,y=r[4],x=r[5],q=r[6],g=r[7],t[4]=y*a+x*i+q*h+g*v,t[5]=y*u+x*c+q*M+g*m,t[6]=y*e+x*f+q*d+g*b,t[7]=y*o+x*s+q*l+g*p,y=r[8],x=r[9],q=r[10],g=r[11],t[8]=y*a+x*i+q*h+g*v,t[9]=y*u+x*c+q*M+g*m,t[10]=y*e+x*f+q*d+g*b,t[11]=y*o+x*s+q*l+g*p,y=r[12],x=r[13],q=r[14],g=r[15],t[12]=y*a+x*i+q*h+g*v,t[13]=y*u+x*c+q*M+g*m,t[14]=y*e+x*f+q*d+g*b,t[15]=y*o+x*s+q*l+g*p,t}function x(t,n,r){var a,u,e,o,i,c,f,s,h,M,d,l,v=r[0],m=r[1],b=r[2];return n===t?(t[12]=n[0]*v+n[4]*m+n[8]*b+n[12],t[13]=n[1]*v+n[5]*m+n[9]*b+n[13],t[14]=n[2]*v+n[6]*m+n[10]*b+n[14],t[15]=n[3]*v+n[7]*m+n[11]*b+n[15]):(a=n[0],u=n[1],e=n[2],o=n[3],i=n[4],c=n[5],f=n[6],s=n[7],h=n[8],M=n[9],d=n[10],l=n[11],t[0]=a,t[1]=u,t[2]=e,t[3]=o,t[4]=i,t[5]=c,t[6]=f,t[7]=s,t[8]=h,t[9]=M,t[10]=d,t[11]=l,t[12]=a*v+i*m+h*b+n[12],t[13]=u*v+c*m+M*b+n[13],t[14]=e*v+f*m+d*b+n[14],t[15]=o*v+s*m+l*b+n[15]),t}function q(t,n,r){var a=r[0],u=r[1],e=r[2];return t[0]=n[0]*a,t[1]=n[1]*a,t[2]=n[2]*a,t[3]=n[3]*a,t[4]=n[4]*u,t[5]=n[5]*u,t[6]=n[6]*u,t[7]=n[7]*u,t[8]=n[8]*e,t[9]=n[9]*e,t[10]=n[10]*e,t[11]=n[11]*e,t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t}function g(t,n,r,a){var u,e,i,c,f,s,h,M,d,l,v,m,b,p,y,x,q,g,w,P,A,j,D,I,S=a[0],T=a[1],O=a[2],R=Math.sqrt(S*S+T*T+O*O);return R<o?null:(S*=R=1/R,T*=R,O*=R,u=Math.sin(r),i=1-(e=Math.cos(r)),c=n[0],f=n[1],s=n[2],h=n[3],M=n[4],d=n[5],l=n[6],v=n[7],m=n[8],b=n[9],p=n[10],y=n[11],x=S*S*i+e,q=T*S*i+O*u,g=O*S*i-T*u,w=S*T*i-O*u,P=T*T*i+e,A=O*T*i+S*u,j=S*O*i+T*u,D=T*O*i-S*u,I=O*O*i+e,t[0]=c*x+M*q+m*g,t[1]=f*x+d*q+b*g,t[2]=s*x+l*q+p*g,t[3]=h*x+v*q+y*g,t[4]=c*w+M*P+m*A,t[5]=f*w+d*P+b*A,t[6]=s*w+l*P+p*A,t[7]=h*w+v*P+y*A,t[8]=c*j+M*D+m*I,t[9]=f*j+d*D+b*I,t[10]=s*j+l*D+p*I,t[11]=h*j+v*D+y*I,n!==t&&(t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t)}function w(t,n,r){var a=Math.sin(r),u=Math.cos(r),e=n[4],o=n[5],i=n[6],c=n[7],f=n[8],s=n[9],h=n[10],M=n[11];return n!==t&&(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[4]=e*u+f*a,t[5]=o*u+s*a,t[6]=i*u+h*a,t[7]=c*u+M*a,t[8]=f*u-e*a,t[9]=s*u-o*a,t[10]=h*u-i*a,t[11]=M*u-c*a,t}function P(t,n,r){var a=Math.sin(r),u=Math.cos(r),e=n[0],o=n[1],i=n[2],c=n[3],f=n[8],s=n[9],h=n[10],M=n[11];return n!==t&&(t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[0]=e*u-f*a,t[1]=o*u-s*a,t[2]=i*u-h*a,t[3]=c*u-M*a,t[8]=e*a+f*u,t[9]=o*a+s*u,t[10]=i*a+h*u,t[11]=c*a+M*u,t}function A(t,n,r){var a=Math.sin(r),u=Math.cos(r),e=n[0],o=n[1],i=n[2],c=n[3],f=n[4],s=n[5],h=n[6],M=n[7];return n!==t&&(t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[0]=e*u+f*a,t[1]=o*u+s*a,t[2]=i*u+h*a,t[3]=c*u+M*a,t[4]=f*u-e*a,t[5]=s*u-o*a,t[6]=h*u-i*a,t[7]=M*u-c*a,t}function j(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function D(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=n[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function I(t,n,r){var a,u,e,i=r[0],c=r[1],f=r[2],s=Math.sqrt(i*i+c*c+f*f);return s<o?null:(i*=s=1/s,c*=s,f*=s,a=Math.sin(n),e=1-(u=Math.cos(n)),t[0]=i*i*e+u,t[1]=c*i*e+f*a,t[2]=f*i*e-c*a,t[3]=0,t[4]=i*c*e-f*a,t[5]=c*c*e+u,t[6]=f*c*e+i*a,t[7]=0,t[8]=i*f*e+c*a,t[9]=c*f*e-i*a,t[10]=f*f*e+u,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function S(t,n){var r=Math.sin(n),a=Math.cos(n);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=r,t[7]=0,t[8]=0,t[9]=-r,t[10]=a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function T(t,n){var r=Math.sin(n),a=Math.cos(n);return t[0]=a,t[1]=0,t[2]=-r,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=r,t[9]=0,t[10]=a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function O(t,n){var r=Math.sin(n),a=Math.cos(n);return t[0]=a,t[1]=r,t[2]=0,t[3]=0,t[4]=-r,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function R(t,n,r){var a=n[0],u=n[1],e=n[2],o=n[3],i=a+a,c=u+u,f=e+e,s=a*i,h=a*c,M=a*f,d=u*c,l=u*f,v=e*f,m=o*i,b=o*c,p=o*f;return t[0]=1-(d+v),t[1]=h+p,t[2]=M-b,t[3]=0,t[4]=h-p,t[5]=1-(s+v),t[6]=l+m,t[7]=0,t[8]=M+b,t[9]=l-m,t[10]=1-(s+d),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function F(t,n){var r=new i(3),a=-n[0],u=-n[1],e=-n[2],o=n[3],c=n[4],f=n[5],s=n[6],h=n[7],M=a*a+u*u+e*e+o*o;return M>0?(r[0]=2*(c*o+h*a+f*e-s*u)/M,r[1]=2*(f*o+h*u+s*a-c*e)/M,r[2]=2*(s*o+h*e+c*u-f*a)/M):(r[0]=2*(c*o+h*a+f*e-s*u),r[1]=2*(f*o+h*u+s*a-c*e),r[2]=2*(s*o+h*e+c*u-f*a)),R(t,n,r),t}function k(t,n){return t[0]=n[12],t[1]=n[13],t[2]=n[14],t}function V(t,n){var r=n[0],a=n[1],u=n[2],e=n[4],o=n[5],i=n[6],c=n[8],f=n[9],s=n[10];return t[0]=Math.sqrt(r*r+a*a+u*u),t[1]=Math.sqrt(e*e+o*o+i*i),t[2]=Math.sqrt(c*c+f*f+s*s),t}function E(t,n){var r=n[0]+n[5]+n[10],a=0;return r>0?(a=2*Math.sqrt(r+1),t[3]=.25*a,t[0]=(n[6]-n[9])/a,t[1]=(n[8]-n[2])/a,t[2]=(n[1]-n[4])/a):n[0]>n[5]&&n[0]>n[10]?(a=2*Math.sqrt(1+n[0]-n[5]-n[10]),t[3]=(n[6]-n[9])/a,t[0]=.25*a,t[1]=(n[1]+n[4])/a,t[2]=(n[8]+n[2])/a):n[5]>n[10]?(a=2*Math.sqrt(1+n[5]-n[0]-n[10]),t[3]=(n[8]-n[2])/a,t[0]=(n[1]+n[4])/a,t[1]=.25*a,t[2]=(n[6]+n[9])/a):(a=2*Math.sqrt(1+n[10]-n[0]-n[5]),t[3]=(n[1]-n[4])/a,t[0]=(n[8]+n[2])/a,t[1]=(n[6]+n[9])/a,t[2]=.25*a),t}function _(t,n,r,a){var u=n[0],e=n[1],o=n[2],i=n[3],c=u+u,f=e+e,s=o+o,h=u*c,M=u*f,d=u*s,l=e*f,v=e*s,m=o*s,b=i*c,p=i*f,y=i*s,x=a[0],q=a[1],g=a[2];return t[0]=(1-(l+m))*x,t[1]=(M+y)*x,t[2]=(d-p)*x,t[3]=0,t[4]=(M-y)*q,t[5]=(1-(h+m))*q,t[6]=(v+b)*q,t[7]=0,t[8]=(d+p)*g,t[9]=(v-b)*g,t[10]=(1-(h+l))*g,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function z(t,n,r,a,u){var e=n[0],o=n[1],i=n[2],c=n[3],f=e+e,s=o+o,h=i+i,M=e*f,d=e*s,l=e*h,v=o*s,m=o*h,b=i*h,p=c*f,y=c*s,x=c*h,q=a[0],g=a[1],w=a[2],P=u[0],A=u[1],j=u[2],D=(1-(v+b))*q,I=(d+x)*q,S=(l-y)*q,T=(d-x)*g,O=(1-(M+b))*g,R=(m+p)*g,F=(l+y)*w,k=(m-p)*w,V=(1-(M+v))*w;return t[0]=D,t[1]=I,t[2]=S,t[3]=0,t[4]=T,t[5]=O,t[6]=R,t[7]=0,t[8]=F,t[9]=k,t[10]=V,t[11]=0,t[12]=r[0]+P-(D*P+T*A+F*j),t[13]=r[1]+A-(I*P+O*A+k*j),t[14]=r[2]+j-(S*P+R*A+V*j),t[15]=1,t}function C(t,n){var r=n[0],a=n[1],u=n[2],e=n[3],o=r+r,i=a+a,c=u+u,f=r*o,s=a*o,h=a*i,M=u*o,d=u*i,l=u*c,v=e*o,m=e*i,b=e*c;return t[0]=1-h-l,t[1]=s+b,t[2]=M-m,t[3]=0,t[4]=s-b,t[5]=1-f-l,t[6]=d+v,t[7]=0,t[8]=M+m,t[9]=d-v,t[10]=1-f-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function L(t,n,r,a,u,e,o){var i=1/(r-n),c=1/(u-a),f=1/(e-o);return t[0]=2*e*i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*e*c,t[6]=0,t[7]=0,t[8]=(r+n)*i,t[9]=(u+a)*c,t[10]=(o+e)*f,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*e*2*f,t[15]=0,t}function X(t,n,r,a,u){var e,o=1/Math.tan(n/2);return t[0]=o/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=u&&u!==1/0?(e=1/(a-u),t[10]=(u+a)*e,t[14]=2*u*a*e):(t[10]=-1,t[14]=-2*a),t}function Y(t,n,r,a){var u=Math.tan(n.upDegrees*Math.PI/180),e=Math.tan(n.downDegrees*Math.PI/180),o=Math.tan(n.leftDegrees*Math.PI/180),i=Math.tan(n.rightDegrees*Math.PI/180),c=2/(o+i),f=2/(u+e);return t[0]=c,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=f,t[6]=0,t[7]=0,t[8]=-(o-i)*c*.5,t[9]=(u-e)*f*.5,t[10]=a/(r-a),t[11]=-1,t[12]=0,t[13]=0,t[14]=a*r/(r-a),t[15]=0,t}function Z(t,n,r,a,u,e,o){var i=1/(n-r),c=1/(a-u),f=1/(e-o);return t[0]=-2*i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*f,t[11]=0,t[12]=(n+r)*i,t[13]=(u+a)*c,t[14]=(o+e)*f,t[15]=1,t}function Q(t,n,r,a){var u,e,i,c,f,s,h,M,d,v,m=n[0],b=n[1],p=n[2],y=a[0],x=a[1],q=a[2],g=r[0],w=r[1],P=r[2];return Math.abs(m-g)<o&&Math.abs(b-w)<o&&Math.abs(p-P)<o?l(t):(h=m-g,M=b-w,d=p-P,u=x*(d*=v=1/Math.sqrt(h*h+M*M+d*d))-q*(M*=v),e=q*(h*=v)-y*d,i=y*M-x*h,(v=Math.sqrt(u*u+e*e+i*i))?(u*=v=1/v,e*=v,i*=v):(u=0,e=0,i=0),c=M*i-d*e,f=d*u-h*i,s=h*e-M*u,(v=Math.sqrt(c*c+f*f+s*s))?(c*=v=1/v,f*=v,s*=v):(c=0,f=0,s=0),t[0]=u,t[1]=c,t[2]=h,t[3]=0,t[4]=e,t[5]=f,t[6]=M,t[7]=0,t[8]=i,t[9]=s,t[10]=d,t[11]=0,t[12]=-(u*m+e*b+i*p),t[13]=-(c*m+f*b+s*p),t[14]=-(h*m+M*b+d*p),t[15]=1,t)}function N(t,n,r,a){var u=n[0],e=n[1],o=n[2],i=a[0],c=a[1],f=a[2],s=u-r[0],h=e-r[1],M=o-r[2],d=s*s+h*h+M*M;d>0&&(s*=d=1/Math.sqrt(d),h*=d,M*=d);var l=c*M-f*h,v=f*s-i*M,m=i*h-c*s;return(d=l*l+v*v+m*m)>0&&(l*=d=1/Math.sqrt(d),v*=d,m*=d),t[0]=l,t[1]=v,t[2]=m,t[3]=0,t[4]=h*m-M*v,t[5]=M*l-s*m,t[6]=s*v-h*l,t[7]=0,t[8]=s,t[9]=h,t[10]=M,t[11]=0,t[12]=u,t[13]=e,t[14]=o,t[15]=1,t}function W(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function B(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))}function G(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t[3]=n[3]+r[3],t[4]=n[4]+r[4],t[5]=n[5]+r[5],t[6]=n[6]+r[6],t[7]=n[7]+r[7],t[8]=n[8]+r[8],t[9]=n[9]+r[9],t[10]=n[10]+r[10],t[11]=n[11]+r[11],t[12]=n[12]+r[12],t[13]=n[13]+r[13],t[14]=n[14]+r[14],t[15]=n[15]+r[15],t}function H(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t[2]=n[2]-r[2],t[3]=n[3]-r[3],t[4]=n[4]-r[4],t[5]=n[5]-r[5],t[6]=n[6]-r[6],t[7]=n[7]-r[7],t[8]=n[8]-r[8],t[9]=n[9]-r[9],t[10]=n[10]-r[10],t[11]=n[11]-r[11],t[12]=n[12]-r[12],t[13]=n[13]-r[13],t[14]=n[14]-r[14],t[15]=n[15]-r[15],t}function J(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=n[7]*r,t[8]=n[8]*r,t[9]=n[9]*r,t[10]=n[10]*r,t[11]=n[11]*r,t[12]=n[12]*r,t[13]=n[13]*r,t[14]=n[14]*r,t[15]=n[15]*r,t}function K(t,n,r,a){return t[0]=n[0]+r[0]*a,t[1]=n[1]+r[1]*a,t[2]=n[2]+r[2]*a,t[3]=n[3]+r[3]*a,t[4]=n[4]+r[4]*a,t[5]=n[5]+r[5]*a,t[6]=n[6]+r[6]*a,t[7]=n[7]+r[7]*a,t[8]=n[8]+r[8]*a,t[9]=n[9]+r[9]*a,t[10]=n[10]+r[10]*a,t[11]=n[11]+r[11]*a,t[12]=n[12]+r[12]*a,t[13]=n[13]+r[13]*a,t[14]=n[14]+r[14]*a,t[15]=n[15]+r[15]*a,t}function U(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]&&t[9]===n[9]&&t[10]===n[10]&&t[11]===n[11]&&t[12]===n[12]&&t[13]===n[13]&&t[14]===n[14]&&t[15]===n[15]}function $(t,n){var r=t[0],a=t[1],u=t[2],e=t[3],i=t[4],c=t[5],f=t[6],s=t[7],h=t[8],M=t[9],d=t[10],l=t[11],v=t[12],m=t[13],b=t[14],p=t[15],y=n[0],x=n[1],q=n[2],g=n[3],w=n[4],P=n[5],A=n[6],j=n[7],D=n[8],I=n[9],S=n[10],T=n[11],O=n[12],R=n[13],F=n[14],k=n[15];return Math.abs(r-y)<=o*Math.max(1,Math.abs(r),Math.abs(y))&&Math.abs(a-x)<=o*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(u-q)<=o*Math.max(1,Math.abs(u),Math.abs(q))&&Math.abs(e-g)<=o*Math.max(1,Math.abs(e),Math.abs(g))&&Math.abs(i-w)<=o*Math.max(1,Math.abs(i),Math.abs(w))&&Math.abs(c-P)<=o*Math.max(1,Math.abs(c),Math.abs(P))&&Math.abs(f-A)<=o*Math.max(1,Math.abs(f),Math.abs(A))&&Math.abs(s-j)<=o*Math.max(1,Math.abs(s),Math.abs(j))&&Math.abs(h-D)<=o*Math.max(1,Math.abs(h),Math.abs(D))&&Math.abs(M-I)<=o*Math.max(1,Math.abs(M),Math.abs(I))&&Math.abs(d-S)<=o*Math.max(1,Math.abs(d),Math.abs(S))&&Math.abs(l-T)<=o*Math.max(1,Math.abs(l),Math.abs(T))&&Math.abs(v-O)<=o*Math.max(1,Math.abs(v),Math.abs(O))&&Math.abs(m-R)<=o*Math.max(1,Math.abs(m),Math.abs(R))&&Math.abs(b-F)<=o*Math.max(1,Math.abs(b),Math.abs(F))&&Math.abs(p-k)<=o*Math.max(1,Math.abs(p),Math.abs(k))}var tt=y,nt=H;function rt(){var t=new i(3);return i!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function at(t){var n=new i(3);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n}function ut(t){var n=t[0],r=t[1],a=t[2];return Math.sqrt(n*n+r*r+a*a)}function et(t,n,r){var a=new i(3);return a[0]=t,a[1]=n,a[2]=r,a}function ot(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t}function it(t,n,r,a){return t[0]=n,t[1]=r,t[2]=a,t}function ct(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t}function ft(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t[2]=n[2]-r[2],t}function st(t,n,r){return t[0]=n[0]*r[0],t[1]=n[1]*r[1],t[2]=n[2]*r[2],t}function ht(t,n,r){return t[0]=n[0]/r[0],t[1]=n[1]/r[1],t[2]=n[2]/r[2],t}function Mt(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t}function dt(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t}function lt(t,n,r){return t[0]=Math.min(n[0],r[0]),t[1]=Math.min(n[1],r[1]),t[2]=Math.min(n[2],r[2]),t}function vt(t,n,r){return t[0]=Math.max(n[0],r[0]),t[1]=Math.max(n[1],r[1]),t[2]=Math.max(n[2],r[2]),t}function mt(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t}function bt(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t}function pt(t,n,r,a){return t[0]=n[0]+r[0]*a,t[1]=n[1]+r[1]*a,t[2]=n[2]+r[2]*a,t}function yt(t,n){var r=n[0]-t[0],a=n[1]-t[1],u=n[2]-t[2];return Math.sqrt(r*r+a*a+u*u)}function xt(t,n){var r=n[0]-t[0],a=n[1]-t[1],u=n[2]-t[2];return r*r+a*a+u*u}function qt(t){var n=t[0],r=t[1],a=t[2];return n*n+r*r+a*a}function gt(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t}function wt(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t}function Pt(t,n){var r=n[0],a=n[1],u=n[2],e=r*r+a*a+u*u;return e>0&&(e=1/Math.sqrt(e)),t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t}function At(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function jt(t,n,r){var a=n[0],u=n[1],e=n[2],o=r[0],i=r[1],c=r[2];return t[0]=u*c-e*i,t[1]=e*o-a*c,t[2]=a*i-u*o,t}function Dt(t,n,r,a){var u=n[0],e=n[1],o=n[2];return t[0]=u+a*(r[0]-u),t[1]=e+a*(r[1]-e),t[2]=o+a*(r[2]-o),t}function It(t,n,r,a,u,e){var o=e*e,i=o*(2*e-3)+1,c=o*(e-2)+e,f=o*(e-1),s=o*(3-2*e);return t[0]=n[0]*i+r[0]*c+a[0]*f+u[0]*s,t[1]=n[1]*i+r[1]*c+a[1]*f+u[1]*s,t[2]=n[2]*i+r[2]*c+a[2]*f+u[2]*s,t}function St(t,n,r,a,u,e){var o=1-e,i=o*o,c=e*e,f=i*o,s=3*e*i,h=3*c*o,M=c*e;return t[0]=n[0]*f+r[0]*s+a[0]*h+u[0]*M,t[1]=n[1]*f+r[1]*s+a[1]*h+u[1]*M,t[2]=n[2]*f+r[2]*s+a[2]*h+u[2]*M,t}function Tt(t,n){n=n||1;var r=2*c()*Math.PI,a=2*c()-1,u=Math.sqrt(1-a*a)*n;return t[0]=Math.cos(r)*u,t[1]=Math.sin(r)*u,t[2]=a*n,t}function Ot(t,n,r){var a=n[0],u=n[1],e=n[2],o=r[3]*a+r[7]*u+r[11]*e+r[15];return o=o||1,t[0]=(r[0]*a+r[4]*u+r[8]*e+r[12])/o,t[1]=(r[1]*a+r[5]*u+r[9]*e+r[13])/o,t[2]=(r[2]*a+r[6]*u+r[10]*e+r[14])/o,t}function Rt(t,n,r){var a=n[0],u=n[1],e=n[2];return t[0]=a*r[0]+u*r[3]+e*r[6],t[1]=a*r[1]+u*r[4]+e*r[7],t[2]=a*r[2]+u*r[5]+e*r[8],t}function Ft(t,n,r){var a=r[0],u=r[1],e=r[2],o=r[3],i=n[0],c=n[1],f=n[2],s=u*f-e*c,h=e*i-a*f,M=a*c-u*i,d=u*M-e*h,l=e*s-a*M,v=a*h-u*s,m=2*o;return s*=m,h*=m,M*=m,d*=2,l*=2,v*=2,t[0]=i+s+d,t[1]=c+h+l,t[2]=f+M+v,t}function kt(t,n,r,a){var u=[],e=[];return u[0]=n[0]-r[0],u[1]=n[1]-r[1],u[2]=n[2]-r[2],e[0]=u[0],e[1]=u[1]*Math.cos(a)-u[2]*Math.sin(a),e[2]=u[1]*Math.sin(a)+u[2]*Math.cos(a),t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t}function Vt(t,n,r,a){var u=[],e=[];return u[0]=n[0]-r[0],u[1]=n[1]-r[1],u[2]=n[2]-r[2],e[0]=u[2]*Math.sin(a)+u[0]*Math.cos(a),e[1]=u[1],e[2]=u[2]*Math.cos(a)-u[0]*Math.sin(a),t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t}function Et(t,n,r,a){var u=[],e=[];return u[0]=n[0]-r[0],u[1]=n[1]-r[1],u[2]=n[2]-r[2],e[0]=u[0]*Math.cos(a)-u[1]*Math.sin(a),e[1]=u[0]*Math.sin(a)+u[1]*Math.cos(a),e[2]=u[2],t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t}function _t(t,n){var r=et(t[0],t[1],t[2]),a=et(n[0],n[1],n[2]);Pt(r,r),Pt(a,a);var u=At(r,a);return u>1?0:u<-1?Math.PI:Math.acos(u)}function zt(t){return t[0]=0,t[1]=0,t[2]=0,t}function Ct(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function Lt(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]}function Xt(t,n){var r=t[0],a=t[1],u=t[2],e=n[0],i=n[1],c=n[2];return Math.abs(r-e)<=o*Math.max(1,Math.abs(r),Math.abs(e))&&Math.abs(a-i)<=o*Math.max(1,Math.abs(a),Math.abs(i))&&Math.abs(u-c)<=o*Math.max(1,Math.abs(u),Math.abs(c))}var Yt,Zt=ft,Qt=st,Nt=ht,Wt=yt,Bt=xt,Gt=ut,Ht=qt,Jt=(Yt=rt(),function(t,n,r,a,u,e){var o,i;for(n||(n=3),r||(r=0),i=a?Math.min(a*n+r,t.length):t.length,o=r;o<i;o+=n)Yt[0]=t[o],Yt[1]=t[o+1],Yt[2]=t[o+2],u(Yt,Yt,e),t[o]=Yt[0],t[o+1]=Yt[1],t[o+2]=Yt[2];return t});function Kt(t){var n=t[0],r=t[1],a=t[2],u=t[3];return Math.sqrt(n*n+r*r+a*a+u*u)}function Ut(t){var n=t[0],r=t[1],a=t[2],u=t[3];return n*n+r*r+a*a+u*u}!function(){var t,n=(t=new i(4),i!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t)}();function $t(){var t=new i(4);return i!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function tn(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function nn(t,n,r){r*=.5;var a=Math.sin(r);return t[0]=a*n[0],t[1]=a*n[1],t[2]=a*n[2],t[3]=Math.cos(r),t}function rn(t,n){var r=2*Math.acos(n[3]),a=Math.sin(r/2);return a>o?(t[0]=n[0]/a,t[1]=n[1]/a,t[2]=n[2]/a):(t[0]=1,t[1]=0,t[2]=0),r}function an(t,n,r){var a=n[0],u=n[1],e=n[2],o=n[3],i=r[0],c=r[1],f=r[2],s=r[3];return t[0]=a*s+o*i+u*f-e*c,t[1]=u*s+o*c+e*i-a*f,t[2]=e*s+o*f+a*c-u*i,t[3]=o*s-a*i-u*c-e*f,t}function un(t,n,r){r*=.5;var a=n[0],u=n[1],e=n[2],o=n[3],i=Math.sin(r),c=Math.cos(r);return t[0]=a*c+o*i,t[1]=u*c+e*i,t[2]=e*c-u*i,t[3]=o*c-a*i,t}function en(t,n,r){r*=.5;var a=n[0],u=n[1],e=n[2],o=n[3],i=Math.sin(r),c=Math.cos(r);return t[0]=a*c-e*i,t[1]=u*c+o*i,t[2]=e*c+a*i,t[3]=o*c-u*i,t}function on(t,n,r){r*=.5;var a=n[0],u=n[1],e=n[2],o=n[3],i=Math.sin(r),c=Math.cos(r);return t[0]=a*c+u*i,t[1]=u*c-a*i,t[2]=e*c+o*i,t[3]=o*c-e*i,t}function cn(t,n){var r=n[0],a=n[1],u=n[2];return t[0]=r,t[1]=a,t[2]=u,t[3]=Math.sqrt(Math.abs(1-r*r-a*a-u*u)),t}function fn(t,n,r,a){var u,e,i,c,f,s=n[0],h=n[1],M=n[2],d=n[3],l=r[0],v=r[1],m=r[2],b=r[3];return(e=s*l+h*v+M*m+d*b)<0&&(e=-e,l=-l,v=-v,m=-m,b=-b),1-e>o?(u=Math.acos(e),i=Math.sin(u),c=Math.sin((1-a)*u)/i,f=Math.sin(a*u)/i):(c=1-a,f=a),t[0]=c*s+f*l,t[1]=c*h+f*v,t[2]=c*M+f*m,t[3]=c*d+f*b,t}function sn(t){var n=c(),r=c(),a=c(),u=Math.sqrt(1-n),e=Math.sqrt(n);return t[0]=u*Math.sin(2*Math.PI*r),t[1]=u*Math.cos(2*Math.PI*r),t[2]=e*Math.sin(2*Math.PI*a),t[3]=e*Math.cos(2*Math.PI*a),t}function hn(t,n){var r=n[0],a=n[1],u=n[2],e=n[3],o=r*r+a*a+u*u+e*e,i=o?1/o:0;return t[0]=-r*i,t[1]=-a*i,t[2]=-u*i,t[3]=e*i,t}function Mn(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=n[3],t}function dn(t,n){var r,a=n[0]+n[4]+n[8];if(a>0)r=Math.sqrt(a+1),t[3]=.5*r,r=.5/r,t[0]=(n[5]-n[7])*r,t[1]=(n[6]-n[2])*r,t[2]=(n[1]-n[3])*r;else{var u=0;n[4]>n[0]&&(u=1),n[8]>n[3*u+u]&&(u=2);var e=(u+1)%3,o=(u+2)%3;r=Math.sqrt(n[3*u+u]-n[3*e+e]-n[3*o+o]+1),t[u]=.5*r,r=.5/r,t[3]=(n[3*e+o]-n[3*o+e])*r,t[e]=(n[3*e+u]+n[3*u+e])*r,t[o]=(n[3*o+u]+n[3*u+o])*r}return t}function ln(t,n,r,a){var u=.5*Math.PI/180;n*=u,r*=u,a*=u;var e=Math.sin(n),o=Math.cos(n),i=Math.sin(r),c=Math.cos(r),f=Math.sin(a),s=Math.cos(a);return t[0]=e*c*s-o*i*f,t[1]=o*i*s+e*c*f,t[2]=o*c*f-e*i*s,t[3]=o*c*s+e*i*f,t}function vn(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}var mn,bn,pn,yn,xn,qn,gn,wn=function(t){var n=new i(4);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n},Pn=function(t,n,r,a){var u=new i(4);return u[0]=t,u[1]=n,u[2]=r,u[3]=a,u},An=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t},jn=function(t,n,r,a,u){return t[0]=n,t[1]=r,t[2]=a,t[3]=u,t},Dn=function(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t[3]=n[3]+r[3],t},In=an,Sn=function(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t},Tn=function(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3]},On=function(t,n,r,a){var u=n[0],e=n[1],o=n[2],i=n[3];return t[0]=u+a*(r[0]-u),t[1]=e+a*(r[1]-e),t[2]=o+a*(r[2]-o),t[3]=i+a*(r[3]-i),t},Rn=Kt,Fn=Rn,kn=Ut,Vn=kn,En=function(t,n){var r=n[0],a=n[1],u=n[2],e=n[3],o=r*r+a*a+u*u+e*e;return o>0&&(o=1/Math.sqrt(o)),t[0]=r*o,t[1]=a*o,t[2]=u*o,t[3]=e*o,t},_n=function(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]},zn=function(t,n){var r=t[0],a=t[1],u=t[2],e=t[3],i=n[0],c=n[1],f=n[2],s=n[3];return Math.abs(r-i)<=o*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(a-c)<=o*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(u-f)<=o*Math.max(1,Math.abs(u),Math.abs(f))&&Math.abs(e-s)<=o*Math.max(1,Math.abs(e),Math.abs(s))},Cn=(mn=rt(),bn=et(1,0,0),pn=et(0,1,0),function(t,n,r){var a=At(n,r);return a<-.999999?(jt(mn,bn,n),Gt(mn)<1e-6&&jt(mn,pn,n),Pt(mn,mn),nn(t,mn,Math.PI),t):a>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(jt(mn,n,r),t[0]=mn[0],t[1]=mn[1],t[2]=mn[2],t[3]=1+a,En(t,t))}),Ln=(yn=$t(),xn=$t(),function(t,n,r,a,u,e){return fn(yn,n,u,e),fn(xn,r,a,e),fn(t,yn,xn,2*e*(1-e)),t}),Xn=(qn=new i(9),i!=Float32Array&&(qn[1]=0,qn[2]=0,qn[3]=0,qn[5]=0,qn[6]=0,qn[7]=0),qn[0]=1,qn[4]=1,qn[8]=1,gn=qn,function(t,n,r,a){return gn[0]=r[0],gn[3]=r[1],gn[6]=r[2],gn[1]=a[0],gn[4]=a[1],gn[7]=a[2],gn[2]=-n[0],gn[5]=-n[1],gn[8]=-n[2],En(t,dn(t,gn))});function Yn(t,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var Zn=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.parent=null,this.children=[],this.position=u.fromValues(0,0,0),this.scaling=u.fromValues(1,1,1),this.quaternion=e.create(),this.transformDirty=!1,this.modelMatrix=a.create()}var n,r,o;return n=t,(r=[{key:"getChildren",value:function(){for(var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).recursive,n=[],r=0,a=this.children.length;r<a;r++)if(n.push(this.children[r]),t){var u=this.children[r].getChildren({recursive:t});n=n.concat(u)}return n}},{key:"addChild",value:function(t){t.parent=this,this.children.push(t)}},{key:"translate",value:function(t,n,r){this.position=u.add(u.create(),this.position,u.fromValues(t,n,r)),this.transformDirty=!0}},{key:"scale",value:function(t,n,r){this.scaling=u.add(u.create(),this.scaling,u.fromValues(t,n,r)),this.transformDirty=!0}},{key:"rotate",value:function(t,n,r){var a=e.fromEuler(e.create(),t,n,r);this.quaternion=e.multiply(e.create(),this.quaternion,a),this.transformDirty=!0}},{key:"computeModelMatrix",value:function(t){var n=this.position,r=this.scaling,u=this.quaternion;if(t)if(this.transformDirty){var e=a.fromRotationTranslationScale(a.create(),u,n,r);this.modelMatrix=a.multiply(a.create(),t,e)}else this.modelMatrix=a.multiply(a.create(),t,this.modelMatrix);else this.transformDirty&&(this.modelMatrix=a.fromRotationTranslationScale(a.create(),u,n,r));for(var o=0,i=this.children.length;o<i;o++)t||this.transformDirty?this.children[o].computeModelMatrix(this.modelMatrix):this.children[o].computeModelMatrix()}}])&&Yn(n.prototype,r),o&&Yn(n,o),t}();r.d(n,"Node",function(){return Zn})}})});