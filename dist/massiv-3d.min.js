!function(t,n){if("object"==typeof exports&&"object"==typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var r=n();for(var e in r)("object"==typeof exports?exports:t)[e]=r[e]}}(window,function(){return function(t){var n={};function r(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=n,r.d=function(t,n,e){r.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,n){if(1&n&&(t=r(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)r.d(e,o,function(n){return t[n]}.bind(null,o));return e},r.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(n,"a",n),n},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.p="",r(r.s=4)}({4:function(t,n,r){"use strict";r.r(n);var e={};r.r(e),r.d(e,"create",function(){return h}),r.d(e,"clone",function(){return l}),r.d(e,"copy",function(){return M}),r.d(e,"fromValues",function(){return d}),r.d(e,"set",function(){return p}),r.d(e,"identity",function(){return b}),r.d(e,"transpose",function(){return v}),r.d(e,"invert",function(){return y}),r.d(e,"adjoint",function(){return m}),r.d(e,"determinant",function(){return w}),r.d(e,"multiply",function(){return g}),r.d(e,"translate",function(){return x}),r.d(e,"scale",function(){return O}),r.d(e,"rotate",function(){return j}),r.d(e,"rotateX",function(){return q}),r.d(e,"rotateY",function(){return P}),r.d(e,"rotateZ",function(){return _}),r.d(e,"fromTranslation",function(){return S}),r.d(e,"fromScaling",function(){return E}),r.d(e,"fromRotation",function(){return A}),r.d(e,"fromXRotation",function(){return T}),r.d(e,"fromYRotation",function(){return C}),r.d(e,"fromZRotation",function(){return k}),r.d(e,"fromRotationTranslation",function(){return I}),r.d(e,"fromQuat2",function(){return R}),r.d(e,"getTranslation",function(){return D}),r.d(e,"getScaling",function(){return F}),r.d(e,"getRotation",function(){return V}),r.d(e,"fromRotationTranslationScale",function(){return z}),r.d(e,"fromRotationTranslationScaleOrigin",function(){return L}),r.d(e,"fromQuat",function(){return X}),r.d(e,"frustum",function(){return Y}),r.d(e,"perspective",function(){return Z}),r.d(e,"perspectiveFromFieldOfView",function(){return Q}),r.d(e,"ortho",function(){return G}),r.d(e,"lookAt",function(){return N}),r.d(e,"targetTo",function(){return W}),r.d(e,"str",function(){return B}),r.d(e,"frob",function(){return H}),r.d(e,"add",function(){return J}),r.d(e,"subtract",function(){return K}),r.d(e,"multiplyScalar",function(){return U}),r.d(e,"multiplyScalarAndAdd",function(){return $}),r.d(e,"exactEquals",function(){return tt}),r.d(e,"equals",function(){return nt}),r.d(e,"mul",function(){return rt}),r.d(e,"sub",function(){return et});var o={};r.r(o),r.d(o,"create",function(){return ot}),r.d(o,"clone",function(){return ut}),r.d(o,"length",function(){return at}),r.d(o,"fromValues",function(){return it}),r.d(o,"copy",function(){return ct}),r.d(o,"set",function(){return ft}),r.d(o,"add",function(){return st}),r.d(o,"subtract",function(){return ht}),r.d(o,"multiply",function(){return lt}),r.d(o,"divide",function(){return Mt}),r.d(o,"ceil",function(){return dt}),r.d(o,"floor",function(){return pt}),r.d(o,"min",function(){return bt}),r.d(o,"max",function(){return vt}),r.d(o,"round",function(){return yt}),r.d(o,"scale",function(){return mt}),r.d(o,"scaleAndAdd",function(){return wt}),r.d(o,"distance",function(){return gt}),r.d(o,"squaredDistance",function(){return xt}),r.d(o,"squaredLength",function(){return Ot}),r.d(o,"negate",function(){return jt}),r.d(o,"inverse",function(){return qt}),r.d(o,"normalize",function(){return Pt}),r.d(o,"dot",function(){return _t}),r.d(o,"cross",function(){return St}),r.d(o,"lerp",function(){return Et}),r.d(o,"hermite",function(){return At}),r.d(o,"bezier",function(){return Tt}),r.d(o,"random",function(){return Ct}),r.d(o,"transformMat4",function(){return kt}),r.d(o,"transformMat3",function(){return It}),r.d(o,"transformQuat",function(){return Rt}),r.d(o,"rotateX",function(){return Dt}),r.d(o,"rotateY",function(){return Ft}),r.d(o,"rotateZ",function(){return Vt}),r.d(o,"angle",function(){return zt}),r.d(o,"zero",function(){return Lt}),r.d(o,"str",function(){return Xt}),r.d(o,"exactEquals",function(){return Yt}),r.d(o,"equals",function(){return Zt}),r.d(o,"sub",function(){return Gt}),r.d(o,"mul",function(){return Nt}),r.d(o,"div",function(){return Wt}),r.d(o,"dist",function(){return Bt}),r.d(o,"sqrDist",function(){return Ht}),r.d(o,"len",function(){return Jt}),r.d(o,"sqrLen",function(){return Kt}),r.d(o,"forEach",function(){return Ut});var u={};r.r(u),r.d(u,"create",function(){return nn}),r.d(u,"identity",function(){return rn}),r.d(u,"setAxisAngle",function(){return en}),r.d(u,"getAxisAngle",function(){return on}),r.d(u,"multiply",function(){return un}),r.d(u,"rotateX",function(){return an}),r.d(u,"rotateY",function(){return cn}),r.d(u,"rotateZ",function(){return fn}),r.d(u,"calculateW",function(){return sn}),r.d(u,"slerp",function(){return hn}),r.d(u,"random",function(){return ln}),r.d(u,"invert",function(){return Mn}),r.d(u,"conjugate",function(){return dn}),r.d(u,"fromMat3",function(){return pn}),r.d(u,"fromEuler",function(){return bn}),r.d(u,"str",function(){return vn}),r.d(u,"clone",function(){return qn}),r.d(u,"fromValues",function(){return Pn}),r.d(u,"copy",function(){return _n}),r.d(u,"set",function(){return Sn}),r.d(u,"add",function(){return En}),r.d(u,"mul",function(){return An}),r.d(u,"scale",function(){return Tn}),r.d(u,"dot",function(){return Cn}),r.d(u,"lerp",function(){return kn}),r.d(u,"length",function(){return In}),r.d(u,"len",function(){return Rn}),r.d(u,"squaredLength",function(){return Dn}),r.d(u,"sqrLen",function(){return Fn}),r.d(u,"normalize",function(){return Vn}),r.d(u,"exactEquals",function(){return zn}),r.d(u,"equals",function(){return Ln}),r.d(u,"rotationTo",function(){return Xn}),r.d(u,"sqlerp",function(){return Yn}),r.d(u,"setAxes",function(){return Zn});var a=function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.positions=[],this.normals=[],this.texCoords=[]};var i=function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.ambientColor=[],this.diffuseColor=[],this.specularColor=[],this.indices=[]},c=1e-6,f="undefined"!=typeof Float32Array?Float32Array:Array,s=Math.random;Math.PI;function h(){var t=new f(16);return f!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function l(t){var n=new f(16);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n[9]=t[9],n[10]=t[10],n[11]=t[11],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15],n}function M(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t}function d(t,n,r,e,o,u,a,i,c,s,h,l,M,d,p,b){var v=new f(16);return v[0]=t,v[1]=n,v[2]=r,v[3]=e,v[4]=o,v[5]=u,v[6]=a,v[7]=i,v[8]=c,v[9]=s,v[10]=h,v[11]=l,v[12]=M,v[13]=d,v[14]=p,v[15]=b,v}function p(t,n,r,e,o,u,a,i,c,f,s,h,l,M,d,p,b){return t[0]=n,t[1]=r,t[2]=e,t[3]=o,t[4]=u,t[5]=a,t[6]=i,t[7]=c,t[8]=f,t[9]=s,t[10]=h,t[11]=l,t[12]=M,t[13]=d,t[14]=p,t[15]=b,t}function b(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function v(t,n){if(t===n){var r=n[1],e=n[2],o=n[3],u=n[6],a=n[7],i=n[11];t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=r,t[6]=n[9],t[7]=n[13],t[8]=e,t[9]=u,t[11]=n[14],t[12]=o,t[13]=a,t[14]=i}else t[0]=n[0],t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=n[1],t[5]=n[5],t[6]=n[9],t[7]=n[13],t[8]=n[2],t[9]=n[6],t[10]=n[10],t[11]=n[14],t[12]=n[3],t[13]=n[7],t[14]=n[11],t[15]=n[15];return t}function y(t,n){var r=n[0],e=n[1],o=n[2],u=n[3],a=n[4],i=n[5],c=n[6],f=n[7],s=n[8],h=n[9],l=n[10],M=n[11],d=n[12],p=n[13],b=n[14],v=n[15],y=r*i-e*a,m=r*c-o*a,w=r*f-u*a,g=e*c-o*i,x=e*f-u*i,O=o*f-u*c,j=s*p-h*d,q=s*b-l*d,P=s*v-M*d,_=h*b-l*p,S=h*v-M*p,E=l*v-M*b,A=y*E-m*S+w*_+g*P-x*q+O*j;return A?(A=1/A,t[0]=(i*E-c*S+f*_)*A,t[1]=(o*S-e*E-u*_)*A,t[2]=(p*O-b*x+v*g)*A,t[3]=(l*x-h*O-M*g)*A,t[4]=(c*P-a*E-f*q)*A,t[5]=(r*E-o*P+u*q)*A,t[6]=(b*w-d*O-v*m)*A,t[7]=(s*O-l*w+M*m)*A,t[8]=(a*S-i*P+f*j)*A,t[9]=(e*P-r*S-u*j)*A,t[10]=(d*x-p*w+v*y)*A,t[11]=(h*w-s*x-M*y)*A,t[12]=(i*q-a*_-c*j)*A,t[13]=(r*_-e*q+o*j)*A,t[14]=(p*m-d*g-b*y)*A,t[15]=(s*g-h*m+l*y)*A,t):null}function m(t,n){var r=n[0],e=n[1],o=n[2],u=n[3],a=n[4],i=n[5],c=n[6],f=n[7],s=n[8],h=n[9],l=n[10],M=n[11],d=n[12],p=n[13],b=n[14],v=n[15];return t[0]=i*(l*v-M*b)-h*(c*v-f*b)+p*(c*M-f*l),t[1]=-(e*(l*v-M*b)-h*(o*v-u*b)+p*(o*M-u*l)),t[2]=e*(c*v-f*b)-i*(o*v-u*b)+p*(o*f-u*c),t[3]=-(e*(c*M-f*l)-i*(o*M-u*l)+h*(o*f-u*c)),t[4]=-(a*(l*v-M*b)-s*(c*v-f*b)+d*(c*M-f*l)),t[5]=r*(l*v-M*b)-s*(o*v-u*b)+d*(o*M-u*l),t[6]=-(r*(c*v-f*b)-a*(o*v-u*b)+d*(o*f-u*c)),t[7]=r*(c*M-f*l)-a*(o*M-u*l)+s*(o*f-u*c),t[8]=a*(h*v-M*p)-s*(i*v-f*p)+d*(i*M-f*h),t[9]=-(r*(h*v-M*p)-s*(e*v-u*p)+d*(e*M-u*h)),t[10]=r*(i*v-f*p)-a*(e*v-u*p)+d*(e*f-u*i),t[11]=-(r*(i*M-f*h)-a*(e*M-u*h)+s*(e*f-u*i)),t[12]=-(a*(h*b-l*p)-s*(i*b-c*p)+d*(i*l-c*h)),t[13]=r*(h*b-l*p)-s*(e*b-o*p)+d*(e*l-o*h),t[14]=-(r*(i*b-c*p)-a*(e*b-o*p)+d*(e*c-o*i)),t[15]=r*(i*l-c*h)-a*(e*l-o*h)+s*(e*c-o*i),t}function w(t){var n=t[0],r=t[1],e=t[2],o=t[3],u=t[4],a=t[5],i=t[6],c=t[7],f=t[8],s=t[9],h=t[10],l=t[11],M=t[12],d=t[13],p=t[14],b=t[15];return(n*a-r*u)*(h*b-l*p)-(n*i-e*u)*(s*b-l*d)+(n*c-o*u)*(s*p-h*d)+(r*i-e*a)*(f*b-l*M)-(r*c-o*a)*(f*p-h*M)+(e*c-o*i)*(f*d-s*M)}function g(t,n,r){var e=n[0],o=n[1],u=n[2],a=n[3],i=n[4],c=n[5],f=n[6],s=n[7],h=n[8],l=n[9],M=n[10],d=n[11],p=n[12],b=n[13],v=n[14],y=n[15],m=r[0],w=r[1],g=r[2],x=r[3];return t[0]=m*e+w*i+g*h+x*p,t[1]=m*o+w*c+g*l+x*b,t[2]=m*u+w*f+g*M+x*v,t[3]=m*a+w*s+g*d+x*y,m=r[4],w=r[5],g=r[6],x=r[7],t[4]=m*e+w*i+g*h+x*p,t[5]=m*o+w*c+g*l+x*b,t[6]=m*u+w*f+g*M+x*v,t[7]=m*a+w*s+g*d+x*y,m=r[8],w=r[9],g=r[10],x=r[11],t[8]=m*e+w*i+g*h+x*p,t[9]=m*o+w*c+g*l+x*b,t[10]=m*u+w*f+g*M+x*v,t[11]=m*a+w*s+g*d+x*y,m=r[12],w=r[13],g=r[14],x=r[15],t[12]=m*e+w*i+g*h+x*p,t[13]=m*o+w*c+g*l+x*b,t[14]=m*u+w*f+g*M+x*v,t[15]=m*a+w*s+g*d+x*y,t}function x(t,n,r){var e,o,u,a,i,c,f,s,h,l,M,d,p=r[0],b=r[1],v=r[2];return n===t?(t[12]=n[0]*p+n[4]*b+n[8]*v+n[12],t[13]=n[1]*p+n[5]*b+n[9]*v+n[13],t[14]=n[2]*p+n[6]*b+n[10]*v+n[14],t[15]=n[3]*p+n[7]*b+n[11]*v+n[15]):(e=n[0],o=n[1],u=n[2],a=n[3],i=n[4],c=n[5],f=n[6],s=n[7],h=n[8],l=n[9],M=n[10],d=n[11],t[0]=e,t[1]=o,t[2]=u,t[3]=a,t[4]=i,t[5]=c,t[6]=f,t[7]=s,t[8]=h,t[9]=l,t[10]=M,t[11]=d,t[12]=e*p+i*b+h*v+n[12],t[13]=o*p+c*b+l*v+n[13],t[14]=u*p+f*b+M*v+n[14],t[15]=a*p+s*b+d*v+n[15]),t}function O(t,n,r){var e=r[0],o=r[1],u=r[2];return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t[4]=n[4]*o,t[5]=n[5]*o,t[6]=n[6]*o,t[7]=n[7]*o,t[8]=n[8]*u,t[9]=n[9]*u,t[10]=n[10]*u,t[11]=n[11]*u,t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t}function j(t,n,r,e){var o,u,a,i,f,s,h,l,M,d,p,b,v,y,m,w,g,x,O,j,q,P,_,S,E=e[0],A=e[1],T=e[2],C=Math.sqrt(E*E+A*A+T*T);return C<c?null:(E*=C=1/C,A*=C,T*=C,o=Math.sin(r),a=1-(u=Math.cos(r)),i=n[0],f=n[1],s=n[2],h=n[3],l=n[4],M=n[5],d=n[6],p=n[7],b=n[8],v=n[9],y=n[10],m=n[11],w=E*E*a+u,g=A*E*a+T*o,x=T*E*a-A*o,O=E*A*a-T*o,j=A*A*a+u,q=T*A*a+E*o,P=E*T*a+A*o,_=A*T*a-E*o,S=T*T*a+u,t[0]=i*w+l*g+b*x,t[1]=f*w+M*g+v*x,t[2]=s*w+d*g+y*x,t[3]=h*w+p*g+m*x,t[4]=i*O+l*j+b*q,t[5]=f*O+M*j+v*q,t[6]=s*O+d*j+y*q,t[7]=h*O+p*j+m*q,t[8]=i*P+l*_+b*S,t[9]=f*P+M*_+v*S,t[10]=s*P+d*_+y*S,t[11]=h*P+p*_+m*S,n!==t&&(t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t)}function q(t,n,r){var e=Math.sin(r),o=Math.cos(r),u=n[4],a=n[5],i=n[6],c=n[7],f=n[8],s=n[9],h=n[10],l=n[11];return n!==t&&(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[4]=u*o+f*e,t[5]=a*o+s*e,t[6]=i*o+h*e,t[7]=c*o+l*e,t[8]=f*o-u*e,t[9]=s*o-a*e,t[10]=h*o-i*e,t[11]=l*o-c*e,t}function P(t,n,r){var e=Math.sin(r),o=Math.cos(r),u=n[0],a=n[1],i=n[2],c=n[3],f=n[8],s=n[9],h=n[10],l=n[11];return n!==t&&(t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[0]=u*o-f*e,t[1]=a*o-s*e,t[2]=i*o-h*e,t[3]=c*o-l*e,t[8]=u*e+f*o,t[9]=a*e+s*o,t[10]=i*e+h*o,t[11]=c*e+l*o,t}function _(t,n,r){var e=Math.sin(r),o=Math.cos(r),u=n[0],a=n[1],i=n[2],c=n[3],f=n[4],s=n[5],h=n[6],l=n[7];return n!==t&&(t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[0]=u*o+f*e,t[1]=a*o+s*e,t[2]=i*o+h*e,t[3]=c*o+l*e,t[4]=f*o-u*e,t[5]=s*o-a*e,t[6]=h*o-i*e,t[7]=l*o-c*e,t}function S(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function E(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=n[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function A(t,n,r){var e,o,u,a=r[0],i=r[1],f=r[2],s=Math.sqrt(a*a+i*i+f*f);return s<c?null:(a*=s=1/s,i*=s,f*=s,e=Math.sin(n),u=1-(o=Math.cos(n)),t[0]=a*a*u+o,t[1]=i*a*u+f*e,t[2]=f*a*u-i*e,t[3]=0,t[4]=a*i*u-f*e,t[5]=i*i*u+o,t[6]=f*i*u+a*e,t[7]=0,t[8]=a*f*u+i*e,t[9]=i*f*u-a*e,t[10]=f*f*u+o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function T(t,n){var r=Math.sin(n),e=Math.cos(n);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e,t[6]=r,t[7]=0,t[8]=0,t[9]=-r,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function C(t,n){var r=Math.sin(n),e=Math.cos(n);return t[0]=e,t[1]=0,t[2]=-r,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=r,t[9]=0,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function k(t,n){var r=Math.sin(n),e=Math.cos(n);return t[0]=e,t[1]=r,t[2]=0,t[3]=0,t[4]=-r,t[5]=e,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function I(t,n,r){var e=n[0],o=n[1],u=n[2],a=n[3],i=e+e,c=o+o,f=u+u,s=e*i,h=e*c,l=e*f,M=o*c,d=o*f,p=u*f,b=a*i,v=a*c,y=a*f;return t[0]=1-(M+p),t[1]=h+y,t[2]=l-v,t[3]=0,t[4]=h-y,t[5]=1-(s+p),t[6]=d+b,t[7]=0,t[8]=l+v,t[9]=d-b,t[10]=1-(s+M),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function R(t,n){var r=new f(3),e=-n[0],o=-n[1],u=-n[2],a=n[3],i=n[4],c=n[5],s=n[6],h=n[7],l=e*e+o*o+u*u+a*a;return l>0?(r[0]=2*(i*a+h*e+c*u-s*o)/l,r[1]=2*(c*a+h*o+s*e-i*u)/l,r[2]=2*(s*a+h*u+i*o-c*e)/l):(r[0]=2*(i*a+h*e+c*u-s*o),r[1]=2*(c*a+h*o+s*e-i*u),r[2]=2*(s*a+h*u+i*o-c*e)),I(t,n,r),t}function D(t,n){return t[0]=n[12],t[1]=n[13],t[2]=n[14],t}function F(t,n){var r=n[0],e=n[1],o=n[2],u=n[4],a=n[5],i=n[6],c=n[8],f=n[9],s=n[10];return t[0]=Math.sqrt(r*r+e*e+o*o),t[1]=Math.sqrt(u*u+a*a+i*i),t[2]=Math.sqrt(c*c+f*f+s*s),t}function V(t,n){var r=n[0]+n[5]+n[10],e=0;return r>0?(e=2*Math.sqrt(r+1),t[3]=.25*e,t[0]=(n[6]-n[9])/e,t[1]=(n[8]-n[2])/e,t[2]=(n[1]-n[4])/e):n[0]>n[5]&&n[0]>n[10]?(e=2*Math.sqrt(1+n[0]-n[5]-n[10]),t[3]=(n[6]-n[9])/e,t[0]=.25*e,t[1]=(n[1]+n[4])/e,t[2]=(n[8]+n[2])/e):n[5]>n[10]?(e=2*Math.sqrt(1+n[5]-n[0]-n[10]),t[3]=(n[8]-n[2])/e,t[0]=(n[1]+n[4])/e,t[1]=.25*e,t[2]=(n[6]+n[9])/e):(e=2*Math.sqrt(1+n[10]-n[0]-n[5]),t[3]=(n[1]-n[4])/e,t[0]=(n[8]+n[2])/e,t[1]=(n[6]+n[9])/e,t[2]=.25*e),t}function z(t,n,r,e){var o=n[0],u=n[1],a=n[2],i=n[3],c=o+o,f=u+u,s=a+a,h=o*c,l=o*f,M=o*s,d=u*f,p=u*s,b=a*s,v=i*c,y=i*f,m=i*s,w=e[0],g=e[1],x=e[2];return t[0]=(1-(d+b))*w,t[1]=(l+m)*w,t[2]=(M-y)*w,t[3]=0,t[4]=(l-m)*g,t[5]=(1-(h+b))*g,t[6]=(p+v)*g,t[7]=0,t[8]=(M+y)*x,t[9]=(p-v)*x,t[10]=(1-(h+d))*x,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function L(t,n,r,e,o){var u=n[0],a=n[1],i=n[2],c=n[3],f=u+u,s=a+a,h=i+i,l=u*f,M=u*s,d=u*h,p=a*s,b=a*h,v=i*h,y=c*f,m=c*s,w=c*h,g=e[0],x=e[1],O=e[2],j=o[0],q=o[1],P=o[2],_=(1-(p+v))*g,S=(M+w)*g,E=(d-m)*g,A=(M-w)*x,T=(1-(l+v))*x,C=(b+y)*x,k=(d+m)*O,I=(b-y)*O,R=(1-(l+p))*O;return t[0]=_,t[1]=S,t[2]=E,t[3]=0,t[4]=A,t[5]=T,t[6]=C,t[7]=0,t[8]=k,t[9]=I,t[10]=R,t[11]=0,t[12]=r[0]+j-(_*j+A*q+k*P),t[13]=r[1]+q-(S*j+T*q+I*P),t[14]=r[2]+P-(E*j+C*q+R*P),t[15]=1,t}function X(t,n){var r=n[0],e=n[1],o=n[2],u=n[3],a=r+r,i=e+e,c=o+o,f=r*a,s=e*a,h=e*i,l=o*a,M=o*i,d=o*c,p=u*a,b=u*i,v=u*c;return t[0]=1-h-d,t[1]=s+v,t[2]=l-b,t[3]=0,t[4]=s-v,t[5]=1-f-d,t[6]=M+p,t[7]=0,t[8]=l+b,t[9]=M-p,t[10]=1-f-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Y(t,n,r,e,o,u,a){var i=1/(r-n),c=1/(o-e),f=1/(u-a);return t[0]=2*u*i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*u*c,t[6]=0,t[7]=0,t[8]=(r+n)*i,t[9]=(o+e)*c,t[10]=(a+u)*f,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*u*2*f,t[15]=0,t}function Z(t,n,r,e,o){var u,a=1/Math.tan(n/2);return t[0]=a/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=o&&o!==1/0?(u=1/(e-o),t[10]=(o+e)*u,t[14]=2*o*e*u):(t[10]=-1,t[14]=-2*e),t}function Q(t,n,r,e){var o=Math.tan(n.upDegrees*Math.PI/180),u=Math.tan(n.downDegrees*Math.PI/180),a=Math.tan(n.leftDegrees*Math.PI/180),i=Math.tan(n.rightDegrees*Math.PI/180),c=2/(a+i),f=2/(o+u);return t[0]=c,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=f,t[6]=0,t[7]=0,t[8]=-(a-i)*c*.5,t[9]=(o-u)*f*.5,t[10]=e/(r-e),t[11]=-1,t[12]=0,t[13]=0,t[14]=e*r/(r-e),t[15]=0,t}function G(t,n,r,e,o,u,a){var i=1/(n-r),c=1/(e-o),f=1/(u-a);return t[0]=-2*i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*f,t[11]=0,t[12]=(n+r)*i,t[13]=(o+e)*c,t[14]=(a+u)*f,t[15]=1,t}function N(t,n,r,e){var o,u,a,i,f,s,h,l,M,d,p=n[0],v=n[1],y=n[2],m=e[0],w=e[1],g=e[2],x=r[0],O=r[1],j=r[2];return Math.abs(p-x)<c&&Math.abs(v-O)<c&&Math.abs(y-j)<c?b(t):(h=p-x,l=v-O,M=y-j,o=w*(M*=d=1/Math.sqrt(h*h+l*l+M*M))-g*(l*=d),u=g*(h*=d)-m*M,a=m*l-w*h,(d=Math.sqrt(o*o+u*u+a*a))?(o*=d=1/d,u*=d,a*=d):(o=0,u=0,a=0),i=l*a-M*u,f=M*o-h*a,s=h*u-l*o,(d=Math.sqrt(i*i+f*f+s*s))?(i*=d=1/d,f*=d,s*=d):(i=0,f=0,s=0),t[0]=o,t[1]=i,t[2]=h,t[3]=0,t[4]=u,t[5]=f,t[6]=l,t[7]=0,t[8]=a,t[9]=s,t[10]=M,t[11]=0,t[12]=-(o*p+u*v+a*y),t[13]=-(i*p+f*v+s*y),t[14]=-(h*p+l*v+M*y),t[15]=1,t)}function W(t,n,r,e){var o=n[0],u=n[1],a=n[2],i=e[0],c=e[1],f=e[2],s=o-r[0],h=u-r[1],l=a-r[2],M=s*s+h*h+l*l;M>0&&(s*=M=1/Math.sqrt(M),h*=M,l*=M);var d=c*l-f*h,p=f*s-i*l,b=i*h-c*s;return(M=d*d+p*p+b*b)>0&&(d*=M=1/Math.sqrt(M),p*=M,b*=M),t[0]=d,t[1]=p,t[2]=b,t[3]=0,t[4]=h*b-l*p,t[5]=l*d-s*b,t[6]=s*p-h*d,t[7]=0,t[8]=s,t[9]=h,t[10]=l,t[11]=0,t[12]=o,t[13]=u,t[14]=a,t[15]=1,t}function B(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function H(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))}function J(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t[3]=n[3]+r[3],t[4]=n[4]+r[4],t[5]=n[5]+r[5],t[6]=n[6]+r[6],t[7]=n[7]+r[7],t[8]=n[8]+r[8],t[9]=n[9]+r[9],t[10]=n[10]+r[10],t[11]=n[11]+r[11],t[12]=n[12]+r[12],t[13]=n[13]+r[13],t[14]=n[14]+r[14],t[15]=n[15]+r[15],t}function K(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t[2]=n[2]-r[2],t[3]=n[3]-r[3],t[4]=n[4]-r[4],t[5]=n[5]-r[5],t[6]=n[6]-r[6],t[7]=n[7]-r[7],t[8]=n[8]-r[8],t[9]=n[9]-r[9],t[10]=n[10]-r[10],t[11]=n[11]-r[11],t[12]=n[12]-r[12],t[13]=n[13]-r[13],t[14]=n[14]-r[14],t[15]=n[15]-r[15],t}function U(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=n[7]*r,t[8]=n[8]*r,t[9]=n[9]*r,t[10]=n[10]*r,t[11]=n[11]*r,t[12]=n[12]*r,t[13]=n[13]*r,t[14]=n[14]*r,t[15]=n[15]*r,t}function $(t,n,r,e){return t[0]=n[0]+r[0]*e,t[1]=n[1]+r[1]*e,t[2]=n[2]+r[2]*e,t[3]=n[3]+r[3]*e,t[4]=n[4]+r[4]*e,t[5]=n[5]+r[5]*e,t[6]=n[6]+r[6]*e,t[7]=n[7]+r[7]*e,t[8]=n[8]+r[8]*e,t[9]=n[9]+r[9]*e,t[10]=n[10]+r[10]*e,t[11]=n[11]+r[11]*e,t[12]=n[12]+r[12]*e,t[13]=n[13]+r[13]*e,t[14]=n[14]+r[14]*e,t[15]=n[15]+r[15]*e,t}function tt(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]&&t[9]===n[9]&&t[10]===n[10]&&t[11]===n[11]&&t[12]===n[12]&&t[13]===n[13]&&t[14]===n[14]&&t[15]===n[15]}function nt(t,n){var r=t[0],e=t[1],o=t[2],u=t[3],a=t[4],i=t[5],f=t[6],s=t[7],h=t[8],l=t[9],M=t[10],d=t[11],p=t[12],b=t[13],v=t[14],y=t[15],m=n[0],w=n[1],g=n[2],x=n[3],O=n[4],j=n[5],q=n[6],P=n[7],_=n[8],S=n[9],E=n[10],A=n[11],T=n[12],C=n[13],k=n[14],I=n[15];return Math.abs(r-m)<=c*Math.max(1,Math.abs(r),Math.abs(m))&&Math.abs(e-w)<=c*Math.max(1,Math.abs(e),Math.abs(w))&&Math.abs(o-g)<=c*Math.max(1,Math.abs(o),Math.abs(g))&&Math.abs(u-x)<=c*Math.max(1,Math.abs(u),Math.abs(x))&&Math.abs(a-O)<=c*Math.max(1,Math.abs(a),Math.abs(O))&&Math.abs(i-j)<=c*Math.max(1,Math.abs(i),Math.abs(j))&&Math.abs(f-q)<=c*Math.max(1,Math.abs(f),Math.abs(q))&&Math.abs(s-P)<=c*Math.max(1,Math.abs(s),Math.abs(P))&&Math.abs(h-_)<=c*Math.max(1,Math.abs(h),Math.abs(_))&&Math.abs(l-S)<=c*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(M-E)<=c*Math.max(1,Math.abs(M),Math.abs(E))&&Math.abs(d-A)<=c*Math.max(1,Math.abs(d),Math.abs(A))&&Math.abs(p-T)<=c*Math.max(1,Math.abs(p),Math.abs(T))&&Math.abs(b-C)<=c*Math.max(1,Math.abs(b),Math.abs(C))&&Math.abs(v-k)<=c*Math.max(1,Math.abs(v),Math.abs(k))&&Math.abs(y-I)<=c*Math.max(1,Math.abs(y),Math.abs(I))}var rt=g,et=K;function ot(){var t=new f(3);return f!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function ut(t){var n=new f(3);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n}function at(t){var n=t[0],r=t[1],e=t[2];return Math.sqrt(n*n+r*r+e*e)}function it(t,n,r){var e=new f(3);return e[0]=t,e[1]=n,e[2]=r,e}function ct(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t}function ft(t,n,r,e){return t[0]=n,t[1]=r,t[2]=e,t}function st(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t}function ht(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t[2]=n[2]-r[2],t}function lt(t,n,r){return t[0]=n[0]*r[0],t[1]=n[1]*r[1],t[2]=n[2]*r[2],t}function Mt(t,n,r){return t[0]=n[0]/r[0],t[1]=n[1]/r[1],t[2]=n[2]/r[2],t}function dt(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t}function pt(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t}function bt(t,n,r){return t[0]=Math.min(n[0],r[0]),t[1]=Math.min(n[1],r[1]),t[2]=Math.min(n[2],r[2]),t}function vt(t,n,r){return t[0]=Math.max(n[0],r[0]),t[1]=Math.max(n[1],r[1]),t[2]=Math.max(n[2],r[2]),t}function yt(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t}function mt(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t}function wt(t,n,r,e){return t[0]=n[0]+r[0]*e,t[1]=n[1]+r[1]*e,t[2]=n[2]+r[2]*e,t}function gt(t,n){var r=n[0]-t[0],e=n[1]-t[1],o=n[2]-t[2];return Math.sqrt(r*r+e*e+o*o)}function xt(t,n){var r=n[0]-t[0],e=n[1]-t[1],o=n[2]-t[2];return r*r+e*e+o*o}function Ot(t){var n=t[0],r=t[1],e=t[2];return n*n+r*r+e*e}function jt(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t}function qt(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t}function Pt(t,n){var r=n[0],e=n[1],o=n[2],u=r*r+e*e+o*o;return u>0&&(u=1/Math.sqrt(u)),t[0]=n[0]*u,t[1]=n[1]*u,t[2]=n[2]*u,t}function _t(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function St(t,n,r){var e=n[0],o=n[1],u=n[2],a=r[0],i=r[1],c=r[2];return t[0]=o*c-u*i,t[1]=u*a-e*c,t[2]=e*i-o*a,t}function Et(t,n,r,e){var o=n[0],u=n[1],a=n[2];return t[0]=o+e*(r[0]-o),t[1]=u+e*(r[1]-u),t[2]=a+e*(r[2]-a),t}function At(t,n,r,e,o,u){var a=u*u,i=a*(2*u-3)+1,c=a*(u-2)+u,f=a*(u-1),s=a*(3-2*u);return t[0]=n[0]*i+r[0]*c+e[0]*f+o[0]*s,t[1]=n[1]*i+r[1]*c+e[1]*f+o[1]*s,t[2]=n[2]*i+r[2]*c+e[2]*f+o[2]*s,t}function Tt(t,n,r,e,o,u){var a=1-u,i=a*a,c=u*u,f=i*a,s=3*u*i,h=3*c*a,l=c*u;return t[0]=n[0]*f+r[0]*s+e[0]*h+o[0]*l,t[1]=n[1]*f+r[1]*s+e[1]*h+o[1]*l,t[2]=n[2]*f+r[2]*s+e[2]*h+o[2]*l,t}function Ct(t,n){n=n||1;var r=2*s()*Math.PI,e=2*s()-1,o=Math.sqrt(1-e*e)*n;return t[0]=Math.cos(r)*o,t[1]=Math.sin(r)*o,t[2]=e*n,t}function kt(t,n,r){var e=n[0],o=n[1],u=n[2],a=r[3]*e+r[7]*o+r[11]*u+r[15];return a=a||1,t[0]=(r[0]*e+r[4]*o+r[8]*u+r[12])/a,t[1]=(r[1]*e+r[5]*o+r[9]*u+r[13])/a,t[2]=(r[2]*e+r[6]*o+r[10]*u+r[14])/a,t}function It(t,n,r){var e=n[0],o=n[1],u=n[2];return t[0]=e*r[0]+o*r[3]+u*r[6],t[1]=e*r[1]+o*r[4]+u*r[7],t[2]=e*r[2]+o*r[5]+u*r[8],t}function Rt(t,n,r){var e=r[0],o=r[1],u=r[2],a=r[3],i=n[0],c=n[1],f=n[2],s=o*f-u*c,h=u*i-e*f,l=e*c-o*i,M=o*l-u*h,d=u*s-e*l,p=e*h-o*s,b=2*a;return s*=b,h*=b,l*=b,M*=2,d*=2,p*=2,t[0]=i+s+M,t[1]=c+h+d,t[2]=f+l+p,t}function Dt(t,n,r,e){var o=[],u=[];return o[0]=n[0]-r[0],o[1]=n[1]-r[1],o[2]=n[2]-r[2],u[0]=o[0],u[1]=o[1]*Math.cos(e)-o[2]*Math.sin(e),u[2]=o[1]*Math.sin(e)+o[2]*Math.cos(e),t[0]=u[0]+r[0],t[1]=u[1]+r[1],t[2]=u[2]+r[2],t}function Ft(t,n,r,e){var o=[],u=[];return o[0]=n[0]-r[0],o[1]=n[1]-r[1],o[2]=n[2]-r[2],u[0]=o[2]*Math.sin(e)+o[0]*Math.cos(e),u[1]=o[1],u[2]=o[2]*Math.cos(e)-o[0]*Math.sin(e),t[0]=u[0]+r[0],t[1]=u[1]+r[1],t[2]=u[2]+r[2],t}function Vt(t,n,r,e){var o=[],u=[];return o[0]=n[0]-r[0],o[1]=n[1]-r[1],o[2]=n[2]-r[2],u[0]=o[0]*Math.cos(e)-o[1]*Math.sin(e),u[1]=o[0]*Math.sin(e)+o[1]*Math.cos(e),u[2]=o[2],t[0]=u[0]+r[0],t[1]=u[1]+r[1],t[2]=u[2]+r[2],t}function zt(t,n){var r=it(t[0],t[1],t[2]),e=it(n[0],n[1],n[2]);Pt(r,r),Pt(e,e);var o=_t(r,e);return o>1?0:o<-1?Math.PI:Math.acos(o)}function Lt(t){return t[0]=0,t[1]=0,t[2]=0,t}function Xt(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function Yt(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]}function Zt(t,n){var r=t[0],e=t[1],o=t[2],u=n[0],a=n[1],i=n[2];return Math.abs(r-u)<=c*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(e-a)<=c*Math.max(1,Math.abs(e),Math.abs(a))&&Math.abs(o-i)<=c*Math.max(1,Math.abs(o),Math.abs(i))}var Qt,Gt=ht,Nt=lt,Wt=Mt,Bt=gt,Ht=xt,Jt=at,Kt=Ot,Ut=(Qt=ot(),function(t,n,r,e,o,u){var a,i;for(n||(n=3),r||(r=0),i=e?Math.min(e*n+r,t.length):t.length,a=r;a<i;a+=n)Qt[0]=t[a],Qt[1]=t[a+1],Qt[2]=t[a+2],o(Qt,Qt,u),t[a]=Qt[0],t[a+1]=Qt[1],t[a+2]=Qt[2];return t});function $t(t){var n=t[0],r=t[1],e=t[2],o=t[3];return Math.sqrt(n*n+r*r+e*e+o*o)}function tn(t){var n=t[0],r=t[1],e=t[2],o=t[3];return n*n+r*r+e*e+o*o}!function(){var t,n=(t=new f(4),f!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t)}();function nn(){var t=new f(4);return f!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function rn(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function en(t,n,r){r*=.5;var e=Math.sin(r);return t[0]=e*n[0],t[1]=e*n[1],t[2]=e*n[2],t[3]=Math.cos(r),t}function on(t,n){var r=2*Math.acos(n[3]),e=Math.sin(r/2);return e>c?(t[0]=n[0]/e,t[1]=n[1]/e,t[2]=n[2]/e):(t[0]=1,t[1]=0,t[2]=0),r}function un(t,n,r){var e=n[0],o=n[1],u=n[2],a=n[3],i=r[0],c=r[1],f=r[2],s=r[3];return t[0]=e*s+a*i+o*f-u*c,t[1]=o*s+a*c+u*i-e*f,t[2]=u*s+a*f+e*c-o*i,t[3]=a*s-e*i-o*c-u*f,t}function an(t,n,r){r*=.5;var e=n[0],o=n[1],u=n[2],a=n[3],i=Math.sin(r),c=Math.cos(r);return t[0]=e*c+a*i,t[1]=o*c+u*i,t[2]=u*c-o*i,t[3]=a*c-e*i,t}function cn(t,n,r){r*=.5;var e=n[0],o=n[1],u=n[2],a=n[3],i=Math.sin(r),c=Math.cos(r);return t[0]=e*c-u*i,t[1]=o*c+a*i,t[2]=u*c+e*i,t[3]=a*c-o*i,t}function fn(t,n,r){r*=.5;var e=n[0],o=n[1],u=n[2],a=n[3],i=Math.sin(r),c=Math.cos(r);return t[0]=e*c+o*i,t[1]=o*c-e*i,t[2]=u*c+a*i,t[3]=a*c-u*i,t}function sn(t,n){var r=n[0],e=n[1],o=n[2];return t[0]=r,t[1]=e,t[2]=o,t[3]=Math.sqrt(Math.abs(1-r*r-e*e-o*o)),t}function hn(t,n,r,e){var o,u,a,i,f,s=n[0],h=n[1],l=n[2],M=n[3],d=r[0],p=r[1],b=r[2],v=r[3];return(u=s*d+h*p+l*b+M*v)<0&&(u=-u,d=-d,p=-p,b=-b,v=-v),1-u>c?(o=Math.acos(u),a=Math.sin(o),i=Math.sin((1-e)*o)/a,f=Math.sin(e*o)/a):(i=1-e,f=e),t[0]=i*s+f*d,t[1]=i*h+f*p,t[2]=i*l+f*b,t[3]=i*M+f*v,t}function ln(t){var n=s(),r=s(),e=s(),o=Math.sqrt(1-n),u=Math.sqrt(n);return t[0]=o*Math.sin(2*Math.PI*r),t[1]=o*Math.cos(2*Math.PI*r),t[2]=u*Math.sin(2*Math.PI*e),t[3]=u*Math.cos(2*Math.PI*e),t}function Mn(t,n){var r=n[0],e=n[1],o=n[2],u=n[3],a=r*r+e*e+o*o+u*u,i=a?1/a:0;return t[0]=-r*i,t[1]=-e*i,t[2]=-o*i,t[3]=u*i,t}function dn(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=n[3],t}function pn(t,n){var r,e=n[0]+n[4]+n[8];if(e>0)r=Math.sqrt(e+1),t[3]=.5*r,r=.5/r,t[0]=(n[5]-n[7])*r,t[1]=(n[6]-n[2])*r,t[2]=(n[1]-n[3])*r;else{var o=0;n[4]>n[0]&&(o=1),n[8]>n[3*o+o]&&(o=2);var u=(o+1)%3,a=(o+2)%3;r=Math.sqrt(n[3*o+o]-n[3*u+u]-n[3*a+a]+1),t[o]=.5*r,r=.5/r,t[3]=(n[3*u+a]-n[3*a+u])*r,t[u]=(n[3*u+o]+n[3*o+u])*r,t[a]=(n[3*a+o]+n[3*o+a])*r}return t}function bn(t,n,r,e){var o=.5*Math.PI/180;n*=o,r*=o,e*=o;var u=Math.sin(n),a=Math.cos(n),i=Math.sin(r),c=Math.cos(r),f=Math.sin(e),s=Math.cos(e);return t[0]=u*c*s-a*i*f,t[1]=a*i*s+u*c*f,t[2]=a*c*f-u*i*s,t[3]=a*c*s+u*i*f,t}function vn(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}var yn,mn,wn,gn,xn,On,jn,qn=function(t){var n=new f(4);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n},Pn=function(t,n,r,e){var o=new f(4);return o[0]=t,o[1]=n,o[2]=r,o[3]=e,o},_n=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t},Sn=function(t,n,r,e,o){return t[0]=n,t[1]=r,t[2]=e,t[3]=o,t},En=function(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t[3]=n[3]+r[3],t},An=un,Tn=function(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t},Cn=function(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3]},kn=function(t,n,r,e){var o=n[0],u=n[1],a=n[2],i=n[3];return t[0]=o+e*(r[0]-o),t[1]=u+e*(r[1]-u),t[2]=a+e*(r[2]-a),t[3]=i+e*(r[3]-i),t},In=$t,Rn=In,Dn=tn,Fn=Dn,Vn=function(t,n){var r=n[0],e=n[1],o=n[2],u=n[3],a=r*r+e*e+o*o+u*u;return a>0&&(a=1/Math.sqrt(a)),t[0]=r*a,t[1]=e*a,t[2]=o*a,t[3]=u*a,t},zn=function(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]},Ln=function(t,n){var r=t[0],e=t[1],o=t[2],u=t[3],a=n[0],i=n[1],f=n[2],s=n[3];return Math.abs(r-a)<=c*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(e-i)<=c*Math.max(1,Math.abs(e),Math.abs(i))&&Math.abs(o-f)<=c*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(u-s)<=c*Math.max(1,Math.abs(u),Math.abs(s))},Xn=(yn=ot(),mn=it(1,0,0),wn=it(0,1,0),function(t,n,r){var e=_t(n,r);return e<-.999999?(St(yn,mn,n),Jt(yn)<1e-6&&St(yn,wn,n),Pt(yn,yn),en(t,yn,Math.PI),t):e>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(St(yn,n,r),t[0]=yn[0],t[1]=yn[1],t[2]=yn[2],t[3]=1+e,Vn(t,t))}),Yn=(gn=nn(),xn=nn(),function(t,n,r,e,o,u){return hn(gn,n,o,u),hn(xn,r,e,u),hn(t,gn,xn,2*u*(1-u)),t}),Zn=(On=new f(9),f!=Float32Array&&(On[1]=0,On[2]=0,On[3]=0,On[5]=0,On[6]=0,On[7]=0),On[0]=1,On[4]=1,On[8]=1,jn=On,function(t,n,r,e){return jn[0]=r[0],jn[3]=r[1],jn[6]=r[2],jn[1]=e[0],jn[4]=e[1],jn[7]=e[2],jn[2]=-n[0],jn[5]=-n[1],jn[8]=-n[2],Vn(t,pn(t,jn))}),Qn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return o.fromValues(t,n,r)},Gn=function(t,n,r,e){return u.fromValues(t,n,r,e)},Nn=function(){return e.create()},Wn=function(t,n,r){return o.add(t,n,r)};function Bn(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}var Hn=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.parent=null,this.children=[],this.position=Qn(),this.scaling=Qn(1,1,1),this.quaternion=Gn(0,0,0,1),this.transformDirty=!1,this.modelMatrix=Nn()}var n,r,e;return n=t,(r=[{key:"addChild",value:function(t){t.parent=this,this.children.push(t)}},{key:"getChildren",value:function(){for(var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).recursive,n=[],r=0;r<this.children.length;r++){var e=this.children[r];if(n.push(e),t){var o=e.getChildren({recursive:t});n=n.concat(o)}}return n}},{key:"translate",value:function(t,n,r){this.position=Wn(this.position,this.position,Qn(t,n,r)),this.transformDirty=!0}},{key:"scale",value:function(t,n,r){this.scaling=Wn(this.scaling,this.scaling,Qn(t,n,r)),this.transformDirty=!0}},{key:"rotate",value:function(t,n,r){var e,o,a,i=function(t,n,r,e){return u.fromEuler(t,n,r,e)}(Gn(),t,n,r);this.quaternion=(e=this.quaternion,o=this.quaternion,a=i,u.multiply(e,o,a)),this.transformDirty=!0}}])&&Bn(n.prototype,r),e&&Bn(n,e),t}();function Jn(t){return(Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Kn(t,n){return!n||"object"!==Jn(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function Un(t){return(Un=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $n(t,n){return($n=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}var tr=function(t){function n(){var t;return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(t=Kn(this,Un(n).call(this))).geometry=new a,t.materials=[new i],t}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&$n(t,n)}(n,Hn),n}();function nr(t){return(nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rr(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function er(t,n){return!n||"object"!==nr(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function or(t){return(or=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ur(t,n){return(ur=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}var ar=function(t){function n(){var t;return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(t=er(this,or(n).call(this))).upVector=Qn(0,1,0),t.viewMatrix=Nn(),t.projectionMatrix=Nn(),t}var r,o,u;return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&ur(t,n)}(n,Hn),r=n,(o=[{key:"lookAt",value:function(t,n,r){this.viewMatrix=function(t,n,r,o){return e.lookAt(t,n,r,o)}(this.viewMatrix,this.position,Qn(t,n,r),this.upVector)}}])&&rr(r.prototype,o),u&&rr(r,u),n}();function ir(t){return(ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cr(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function fr(t,n){return!n||"object"!==ir(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function sr(t){return(sr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function hr(t,n){return(hr=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}var lr=function(t){function n(t,r,e,o,u,a){var i;return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(i=fr(this,sr(n).call(this))).left=t,i.right=r,i.bottom=e,i.top=o,i.near=u,i.far=a,i.updateProjectionMatrix(t,r,e,o,u,a),i}var r,o,u;return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&hr(t,n)}(n,ar),r=n,(o=[{key:"updateProjectionMatrix",value:function(t,n,r,o,u,a){this.left=t,this.right=n,this.bottom=r,this.top=o,this.near=u,this.far=a,this.projectionMatrix=function(t,n,r,o,u,a,i){return e.ortho(t,n,r,o,u,a,i)}(this.projectionMatrix,t,n,r,o,u,a)}}])&&cr(r.prototype,o),u&&cr(r,u),n}();function Mr(t){return(Mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dr(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function pr(t,n){return!n||"object"!==Mr(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function br(t){return(br=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function vr(t,n){return(vr=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}var yr=function(t){function n(t,r,e,o){var u;return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(u=pr(this,br(n).call(this))).fov=t,u.aspect=r,u.near=e,u.far=o,u.updateProjectionMatrix(t,r,e,o),u}var r,o,u;return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&vr(t,n)}(n,ar),r=n,(o=[{key:"updateProjectionMatrix",value:function(t,n,r,o){this.fov=t,this.aspect=n,this.near=r,this.far=o,this.projectionMatrix=function(t,n,r,o,u){return e.perspective(t,n,r,o,u)}(this.projectionMatrix,t,n,r,o)}}])&&dr(r.prototype,o),u&&dr(r,u),n}();r.d(n,"Geometry",function(){return a}),r.d(n,"Material",function(){return i}),r.d(n,"Mesh",function(){return tr}),r.d(n,"Node",function(){return Hn}),r.d(n,"OrthographicCamera",function(){return lr}),r.d(n,"PerspectiveCamera",function(){return yr})}})});